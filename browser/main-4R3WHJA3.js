var WI=Object.defineProperty,zI=Object.defineProperties;var GI=Object.getOwnPropertyDescriptors;var lh=Object.getOwnPropertySymbols;var qI=Object.prototype.hasOwnProperty,YI=Object.prototype.propertyIsEnumerable;var dh=(t,e,n)=>e in t?WI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y=(t,e)=>{for(var n in e||={})qI.call(e,n)&&dh(t,n,e[n]);if(lh)for(var n of lh(e))YI.call(e,n)&&dh(t,n,e[n]);return t},K=(t,e)=>zI(t,GI(e));var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var fh=null;var rc=1;function De(t){let e=fh;return fh=t,e}var hh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function KI(t){if(!(oc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===rc)){if(!t.producerMustRecompute(t)&&!ic(t)){t.dirty=!1,t.lastCleanEpoch=rc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=rc}}function ph(t){return t&&(t.nextProducerIndex=0),De(t)}function gh(t,e){if(De(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(oc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ic(t){Ts(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(KI(n),r!==n.version))return!0}return!1}function mh(t){if(Ts(t),oc(t))for(let e=0;e<t.producerNode.length;e++)sc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sc(t,e){if(QI(t),Ts(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)sc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ts(i),i.producerIndexOfThis[r]=e}}function oc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ts(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function QI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ZI(){throw new Error}var JI=ZI;function vh(t){JI=t}function b(t){return typeof t=="function"}function qn(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ss=qn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function dn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Z=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(b(r))try{r()}catch(s){e=s instanceof Ss?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{yh(s)}catch(o){e=e??[],o instanceof Ss?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ss(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&dn(n,e)}remove(e){let{_finalizers:n}=this;n&&dn(n,e),e instanceof t&&e._removeParent(this)}};Z.EMPTY=(()=>{let t=new Z;return t.closed=!0,t})();var ac=Z.EMPTY;function As(t){return t instanceof Z||t&&"closed"in t&&b(t.remove)&&b(t.add)&&b(t.unsubscribe)}function yh(t){b(t)?t():t.unsubscribe()}var Ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yn={setTimeout(t,e,...n){let{delegate:r}=Yn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Yn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ms(t){Yn.setTimeout(()=>{let{onUnhandledError:e}=Ge;if(e)e(t);else throw t})}function qr(){}var _h=(()=>cc("C",void 0,void 0))();function Ih(t){return cc("E",void 0,t)}function wh(t){return cc("N",t,void 0)}function cc(t,e,n){return{kind:t,value:e,error:n}}var fn=null;function Kn(t){if(Ge.useDeprecatedSynchronousErrorHandling){let e=!fn;if(e&&(fn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fn;if(fn=null,n)throw r}}else t()}function Eh(t){Ge.useDeprecatedSynchronousErrorHandling&&fn&&(fn.errorThrown=!0,fn.error=t)}var hn=class extends Z{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,As(e)&&e.add(this)):this.destination=tw}static create(e,n,r){return new Qn(e,n,r)}next(e){this.isStopped?lc(wh(e),this):this._next(e)}error(e){this.isStopped?lc(Ih(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lc(_h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XI=Function.prototype.bind;function uc(t,e){return XI.call(t,e)}var dc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ns(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ns(r)}else Ns(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ns(n)}}},Qn=class extends hn{constructor(e,n,r){super();let i;if(b(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ge.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uc(e.next,s),error:e.error&&uc(e.error,s),complete:e.complete&&uc(e.complete,s)}):i=e}this.destination=new dc(i)}};function Ns(t){Ge.useDeprecatedSynchronousErrorHandling?Eh(t):Ms(t)}function ew(t){throw t}function lc(t,e){let{onStoppedNotification:n}=Ge;n&&Yn.setTimeout(()=>n(t,e))}var tw={closed:!0,next:qr,error:ew,complete:qr};var Zn=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function be(t){return t}function fc(...t){return hc(t)}function hc(t){return t.length===0?be:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var U=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=rw(n)?n:new Qn(n,r,i);return Kn(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ch(r),new r((i,s)=>{let o=new Qn({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zn](){return this}pipe(...n){return hc(n)(this)}toPromise(n){return n=Ch(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ch(t){var e;return(e=t??Ge.Promise)!==null&&e!==void 0?e:Promise}function nw(t){return t&&b(t.next)&&b(t.error)&&b(t.complete)}function rw(t){return t&&t instanceof hn||nw(t)&&As(t)}function pc(t){return b(t?.lift)}function x(t){return e=>{if(pc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,i){return new gc(t,e,n,r,i)}var gc=class extends hn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Jn(){return x((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xn=class extends U{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Z;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Z.EMPTY)}return e}refCount(){return Jn()(this)}};var Dh=qn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=(()=>{class t extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Dh}next(n){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ac:(this.currentObservers=null,s.push(n),new Z(()=>{this.currentObservers=null,dn(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new U;return n.source=this,n}}return t.create=(e,n)=>new Rs(e,n),t})(),Rs=class extends ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ac}};var ce=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var mc={now(){return(mc.delegate||Date).now()},delegate:void 0};var xs=class extends Z{constructor(e,n){super()}schedule(e,n=0){return this}};var Yr={setInterval(t,e,...n){let{delegate:r}=Yr;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Yr;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var er=class extends xs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yr.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Yr.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,dn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var tr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};tr.now=mc.now;var nr=class extends tr{constructor(e,n=tr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vc=new nr(er);var Os=class extends er{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ps=class extends nr{};var yc=new Ps(Os);var Me=new U(t=>t.complete());function bh(t){return t&&b(t.schedule)}function Th(t){return t[t.length-1]}function Sh(t){return b(Th(t))?t.pop():void 0}function Lt(t){return bh(Th(t))?t.pop():void 0}function _c(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Ah(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pn(t){return this instanceof pn?(this.v=t,this):new pn(t)}function Nh(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,_){s.push([f,h,p,_])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(s[0][3],p)}}function c(f){f.value instanceof pn?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Rh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ah=="function"?Ah(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var ks=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ls(t){return b(t?.then)}function Fs(t){return b(t[Zn])}function Us(t){return Symbol.asyncIterator&&b(t?.[Symbol.asyncIterator])}function js(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vs=iw();function $s(t){return b(t?.[Vs])}function Bs(t){return Nh(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield pn(n.read());if(i)return yield pn(void 0);yield yield pn(r)}}finally{n.releaseLock()}})}function Hs(t){return b(t?.getReader)}function ie(t){if(t instanceof U)return t;if(t!=null){if(Fs(t))return sw(t);if(ks(t))return ow(t);if(Ls(t))return aw(t);if(Us(t))return xh(t);if($s(t))return cw(t);if(Hs(t))return uw(t)}throw js(t)}function sw(t){return new U(e=>{let n=t[Zn]();if(b(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ow(t){return new U(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function aw(t){return new U(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ms)})}function cw(t){return new U(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function xh(t){return new U(e=>{lw(t,e).catch(n=>e.error(n))})}function uw(t){return xh(Bs(t))}function lw(t,e){var n,r,i,s;return Mh(this,void 0,void 0,function*(){try{for(n=Rh(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function me(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ft(t,e=0){return x((n,r)=>{n.subscribe(O(r,i=>me(r,t,()=>r.next(i),e),()=>me(r,t,()=>r.complete(),e),i=>me(r,t,()=>r.error(i),e)))})}function Ut(t,e=0){return x((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Oh(t,e){return ie(t).pipe(Ut(e),Ft(e))}function Ph(t,e){return ie(t).pipe(Ut(e),Ft(e))}function kh(t,e){return new U(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Lh(t,e){return new U(n=>{let r;return me(n,e,()=>{r=t[Vs](),me(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>b(r?.return)&&r.return()})}function Ws(t,e){if(!t)throw new Error("Iterable cannot be null");return new U(n=>{me(n,e,()=>{let r=t[Symbol.asyncIterator]();me(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Fh(t,e){return Ws(Bs(t),e)}function Uh(t,e){if(t!=null){if(Fs(t))return Oh(t,e);if(ks(t))return kh(t,e);if(Ls(t))return Ph(t,e);if(Us(t))return Ws(t,e);if($s(t))return Lh(t,e);if(Hs(t))return Fh(t,e)}throw js(t)}function J(t,e){return e?Uh(t,e):ie(t)}function D(...t){let e=Lt(t);return J(t,e)}function rr(t,e){let n=b(t)?t:()=>t,r=i=>i.error(n());return new U(e?i=>e.schedule(r,0,i):r)}function Ic(t){return!!t&&(t instanceof U||b(t.lift)&&b(t.subscribe))}var wt=qn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function P(t,e){return x((n,r)=>{let i=0;n.subscribe(O(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:dw}=Array;function fw(t,e){return dw(e)?t(...e):t(e)}function jh(t){return P(e=>fw(t,e))}var{isArray:hw}=Array,{getPrototypeOf:pw,prototype:gw,keys:mw}=Object;function Vh(t){if(t.length===1){let e=t[0];if(hw(e))return{args:e,keys:null};if(vw(e)){let n=mw(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function vw(t){return t&&typeof t=="object"&&pw(t)===gw}function $h(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Kr(...t){let e=Lt(t),n=Sh(t),{args:r,keys:i}=Vh(t);if(r.length===0)return J([],e);let s=new U(yw(r,e,i?o=>$h(i,o):be));return n?s.pipe(jh(n)):s}function yw(t,e,n=be){return r=>{Bh(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Bh(e,()=>{let u=J(t[c],e),l=!1;u.subscribe(O(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Bh(t,e,n){t?me(n,t,e):e()}function Hh(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,f=()=>{d&&!c.length&&!u&&e.complete()},h=_=>u<r?p(_):c.push(_),p=_=>{s&&e.next(_),u++;let R=!1;ie(n(_,l++)).subscribe(O(e,F=>{i?.(F),s?h(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;c.length&&u<r;){let F=c.shift();o?me(e,o,()=>p(F)):p(F)}f()}catch(F){e.error(F)}}))};return t.subscribe(O(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ee(t,e,n=1/0){return b(e)?ee((r,i)=>P((s,o)=>e(r,s,i,o))(ie(t(r,i))),n):(typeof e=="number"&&(n=e),x((r,i)=>Hh(r,i,t,n)))}function ir(t=1/0){return ee(be,t)}function Wh(){return ir(1)}function sr(...t){return Wh()(J(t,Lt(t)))}function zs(t){return new U(e=>{ie(t()).subscribe(e)})}function Ne(t,e){return x((n,r)=>{let i=0;n.subscribe(O(r,s=>t.call(e,s,i++)&&r.next(s)))})}function jt(t){return x((e,n)=>{let r=null,i=!1,s;r=e.subscribe(O(n,void 0,void 0,o=>{s=ie(t(o,jt(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zh(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(O(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function gn(t,e){return b(e)?ee(t,e,1):ee(t,1)}function Vt(t){return x((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Et(t){return t<=0?()=>Me:x((e,n)=>{let r=0;e.subscribe(O(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wc(t){return P(()=>t)}function Gs(t=_w){return x((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _w(){return new wt}function Qr(t){return x((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ne((i,s)=>t(i,s,r)):be,Et(1),n?Vt(e):Gs(()=>new wt))}function or(t){return t<=0?()=>Me:x((e,n)=>{let r=[];e.subscribe(O(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ec(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ne((i,s)=>t(i,s,r)):be,or(1),n?Vt(e):Gs(()=>new wt))}function Cc(t,e){return x(zh(t,e,arguments.length>=2,!0))}function Dc(...t){let e=Lt(t);return x((n,r)=>{(e?sr(t,n,e):sr(t,n)).subscribe(r)})}function Re(t,e){return x((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(O(r,c=>{i?.unsubscribe();let u=0,l=s++;ie(t(c,l)).subscribe(i=O(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function bc(t){return x((e,n)=>{ie(t).subscribe(O(n,()=>n.complete(),qr)),!n.closed&&e.subscribe(n)})}function te(t,e,n){let r=b(t)||e||n?{next:t,error:e,complete:n}:t;return r?x((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(O(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):be}function z(t){for(let e in t)if(t[e]===z)return e;throw Error("Could not find renamed property on target object.")}function ve(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ve).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Gh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Iw=z({__forward_ref__:z});function Ap(t){return t.__forward_ref__=Ap,t.toString=function(){return ve(this())},t}function Oe(t){return Mp(t)?t():t}function Mp(t){return typeof t=="function"&&t.hasOwnProperty(Iw)&&t.__forward_ref__===Ap}function Np(t){return t&&!!t.\u0275providers}var Rp="https://g.co/ng/security#xss",E=class extends Error{constructor(e,n){super(_u(e,n)),this.code=e}};function _u(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ww=z({\u0275cmp:z}),Ew=z({\u0275dir:z}),Cw=z({\u0275pipe:z}),Dw=z({\u0275mod:z}),eo=z({\u0275fac:z}),Zr=z({__NG_ELEMENT_ID__:z}),qh=z({__NG_ENV_ID__:z});function _o(t){return typeof t=="string"?t:t==null?"":String(t)}function bw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_o(t)}function Tw(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,`Circular dependency in DI detected for ${t}${n}`)}function Iu(t,e){let n=e?` in ${e}`:"";throw new E(-201,!1)}function Sw(t,e){t==null&&Aw(e,t,null,"!=")}function Aw(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Io(t){return Yh(t,Op)||Yh(t,Pp)}function xp(t){return Io(t)!==null}function Yh(t,e){return t.hasOwnProperty(e)?t[e]:null}function Mw(t){let e=t&&(t[Op]||t[Pp]);return e||null}function Kh(t){return t&&(t.hasOwnProperty(Qh)||t.hasOwnProperty(Nw))?t[Qh]:null}var Op=z({\u0275prov:z}),Qh=z({\u0275inj:z}),Pp=z({ngInjectableDef:z}),Nw=z({ngInjectorDef:z}),A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(A||{}),Lc;function kp(){return Lc}function xe(t){let e=Lc;return Lc=t,e}function Lp(t,e,n){let r=Io(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&A.Optional)return null;if(e!==void 0)return e;Iu(ve(t),"Injector")}var mn=globalThis;var T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=w({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var Rw={},Jr=Rw,Fc="__NG_DI_FLAG__",to="ngTempTokenPath",xw="ngTokenPath",Ow=/\n/gm,Pw="\u0275",Zh="__source",dr;function kw(){return dr}function $t(t){let e=dr;return dr=t,e}function Lw(t,e=A.Default){if(dr===void 0)throw new E(-203,!1);return dr===null?Lp(t,void 0,e):dr.get(t,e&A.Optional?null:void 0,e)}function I(t,e=A.Default){return(kp()||Lw)(Oe(t),e)}function v(t,e=A.Default){return I(t,wo(e))}function wo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Uc(t){let e=[];for(let n=0;n<t.length;n++){let r=Oe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let i,s=A.Default;for(let o=0;o<r.length;o++){let a=r[o],c=Fw(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(I(i,s))}else e.push(I(r))}return e}function Fp(t,e){return t[Fc]=e,t.prototype[Fc]=e,t}function Fw(t){return t[Fc]}function Uw(t,e,n,r){let i=t[to];throw e[Zh]&&i.unshift(e[Zh]),t.message=jw(`
`+t.message,i,n,r),t[xw]=i,t[to]=null,t}function jw(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Pw?t.slice(2):t;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ve(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ow,`
  `)}`}function ui(t){return{toString:t}.toString()}var Up=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Up||{}),lt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(lt||{}),Xr={},at=[];function jp(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function jc(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Vw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Vp(t){return t===3||t===4||t===6}function Vw(t){return t.charCodeAt(0)===64}function wu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jh(t,n,i,null,e[++r]):Jh(t,n,i,null,null))}}return t}function Jh(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var $p="ng-template";function $w(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&jp(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Bp(t){return t.type===4&&t.value!==$p}function Bw(t,e,n){let r=t.type===4&&!n?$p:t.value;return e===r}function Hw(t,e,n){let r=4,i=t.attrs||[],s=Gw(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!qe(r)&&!qe(c))return!1;if(o&&qe(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Bw(t,c,n)||c===""&&e.length===1){if(qe(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!$w(t.attrs,u,n)){if(qe(r))return!1;o=!0}continue}let l=r&8?"class":c,d=Ww(l,i,Bp(t),n);if(d===-1){if(qe(r))return!1;o=!0;continue}if(u!==""){let f;d>s?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&jp(h,u,0)!==-1||r&2&&u!==f){if(qe(r))return!1;o=!0}}}}return qe(r)||o}function qe(t){return(t&1)===0}function Ww(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return qw(e,t)}function zw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hw(t,e[r],n))return!0;return!1}function Gw(t){for(let e=0;e<t.length;e++){let n=t[e];if(Vp(n))return e}return t.length}function qw(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Xh(t,e){return t?":not("+e.trim()+")":e}function Yw(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!qe(o)&&(e+=Xh(s,i),i=""),r=o,s=s||!qe(r);n++}return i!==""&&(e+=Xh(s,i)),e}function Kw(t){return t.map(Yw).join(",")}function Qw(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!qe(i))break;i=s}r++}return{attrs:e,classes:n}}function ke(t){return ui(()=>{let e=qp(t),n=K(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Up.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||lt.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""});Yp(n);let r=t.dependencies;return n.directiveDefs=tp(r,!1),n.pipeDefs=tp(r,!0),n.id=Xw(n),n})}function Zw(t){return Wt(t)||Hp(t)}function Jw(t){return t!==null}function Tt(t){return ui(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ep(t,e){if(t==null)return Xr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function li(t){return ui(()=>{let e=qp(t);return Yp(e),e})}function Wt(t){return t[ww]||null}function Hp(t){return t[Ew]||null}function Wp(t){return t[Cw]||null}function zp(t){let e=Wt(t)||Hp(t)||Wp(t);return e!==null?e.standalone:!1}function Gp(t,e){let n=t[Dw]||null;if(!n&&e===!0)throw new Error(`Type ${ve(t)} does not have '\u0275mod' property.`);return n}function qp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ep(t.inputs,e),outputs:ep(t.outputs),debugInfo:null}}function Yp(t){t.features?.forEach(e=>e(t))}function tp(t,e){if(!t)return null;let n=e?Wp:Zw;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Jw)}function Xw(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var St=0,k=1,C=2,ne=3,Ke=4,Ze=5,no=6,ei=7,Ct=8,hr=9,Dt=10,ue=11,ti=12,np=13,di=14,dt=15,Eo=16,ar=17,ni=18,Co=19,Kp=20,Bt=21,Tc=22,yn=23,zt=25,Qp=1;var _n=7,ro=8,io=9,Pe=10,pr=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(pr||{});function Ht(t){return Array.isArray(t)&&typeof t[Qp]=="object"}function Qe(t){return Array.isArray(t)&&t[Qp]===!0}function Zp(t){return(t.flags&4)!==0}function Do(t){return t.componentOffset>-1}function Eu(t){return(t.flags&1)===1}function fi(t){return!!t.template}function eE(t){return(t[C]&512)!==0}function gr(t,e){let n=t.hasOwnProperty(eo);return n?t[eo]:null}var Vc=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function hi(){return Jp}function Jp(t){return t.type.prototype.ngOnChanges&&(t.setInput=nE),tE}hi.ngInherit=!0;function tE(){let t=eg(this),e=t?.current;if(e){let n=t.previous;if(n===Xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nE(t,e,n,r){let i=this.declaredInputs[n],s=eg(t)||rE(t,{previous:Xr,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Vc(c&&c.currentValue,e,a===Xr),t[r]=e}var Xp="__ngSimpleChanges__";function eg(t){return t[Xp]||null}function rE(t,e){return t[Xp]=e}var rp=null;var ct=function(t,e,n){rp?.(t,e,n)},iE="svg",sE="math",oE=!1;function aE(){return oE}function ft(t){for(;Array.isArray(t);)t=t[St];return t}function cE(t,e){return ft(e[t])}function Le(t,e){return ft(e[t.index])}function tg(t,e){return t.data[e]}function Yt(t,e){let n=e[t];return Ht(n)?n:n[St]}function Cu(t){return(t[C]&128)===128}function uE(t){return Qe(t[ne])}function so(t,e){return e==null?null:t[e]}function ng(t){t[ar]=0}function lE(t){t[C]&1024||(t[C]|=1024,Cu(t)&&ri(t))}function rg(t){return t[C]&9216||t[yn]?.dirty}function $c(t){rg(t)?ri(t):t[C]&64&&(aE()?(t[C]|=1024,ri(t)):t[Dt].changeDetectionScheduler?.notify())}function ri(t){t[Dt].changeDetectionScheduler?.notify();let e=t[ne];for(;e!==null&&!(Qe(e)&&e[C]&pr.HasChildViewsToRefresh||Ht(e)&&e[C]&8192);){if(Qe(e))e[C]|=pr.HasChildViewsToRefresh;else if(e[C]|=8192,!Cu(e))break;e=e[ne]}}function ig(t,e){if((t[C]&256)===256)throw new E(911,!1);t[Bt]===null&&(t[Bt]=[]),t[Bt].push(e)}function dE(t,e){if(t[Bt]===null)return;let n=t[Bt].indexOf(e);n!==-1&&t[Bt].splice(n,1)}var j={lFrame:dg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fE(){return j.lFrame.elementDepthCount}function hE(){j.lFrame.elementDepthCount++}function pE(){j.lFrame.elementDepthCount--}function sg(){return j.bindingsEnabled}function gE(){return j.skipHydrationRootTNode!==null}function mE(t){return j.skipHydrationRootTNode===t}function vE(){j.skipHydrationRootTNode=null}function X(){return j.lFrame.lView}function Kt(){return j.lFrame.tView}function Fe(){let t=og();for(;t!==null&&t.type===64;)t=t.parent;return t}function og(){return j.lFrame.currentTNode}function yE(){let t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pi(t,e){let n=j.lFrame;n.currentTNode=t,n.isParent=e}function ag(){return j.lFrame.isParent}function _E(){j.lFrame.isParent=!1}function IE(){let t=j.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wE(t){return j.lFrame.bindingIndex=t}function Du(){return j.lFrame.bindingIndex++}function EE(){return j.lFrame.inI18n}function CE(t,e){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bc(e)}function DE(){return j.lFrame.currentDirectiveIndex}function Bc(t){j.lFrame.currentDirectiveIndex=t}function cg(t){j.lFrame.currentQueryIndex=t}function bE(t){let e=t[k];return e.type===2?e.declTNode:e.type===1?t[Ze]:null}function ug(t,e,n){if(n&A.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&A.Host);)if(i=bE(s),i===null||(s=s[di],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=j.lFrame=lg();return r.currentTNode=e,r.lView=t,!0}function bu(t){let e=lg(),n=t[k];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lg(){let t=j.lFrame,e=t===null?null:t.child;return e===null?dg(t):e}function dg(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fg(){let t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hg=fg;function Tu(){let t=fg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Su(){return j.lFrame.selectedIndex}function In(t){j.lFrame.selectedIndex=t}function pg(){let t=j.lFrame;return tg(t.tView,t.selectedIndex)}function TE(){return j.lFrame.currentNamespace}var gg=!0;function Au(){return gg}function Mu(t){gg=t}function SE(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Jp(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Nu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ks(t,e,n){mg(t,e,3,n)}function Qs(t,e,n,r){(t[C]&3)===n&&mg(t,e,n,r)}function Sc(t,e){let n=t[C];(n&3)===e&&(n&=16383,n+=1,t[C]=n)}function mg(t,e,n,r){let i=r!==void 0?t[ar]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ar]+=65536),(a<s||s==-1)&&(AE(t,n,e,c),t[ar]=(t[ar]&4294901760)+c+2),c++}function ip(t,e){ct(4,t,e);let n=De(null);try{e.call(t)}finally{De(n),ct(5,t,e)}}function AE(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[C]>>14<t[ar]>>16&&(t[C]&3)===e&&(t[C]+=16384,ip(a,s)):ip(a,s)}var fr=-1,ii=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ME(t){return t instanceof ii}function NE(t){return(t.flags&8)!==0}function RE(t){return(t.flags&16)!==0}function vg(t){return t!==fr}function oo(t){let e=t&32767;return t&32767}function xE(t){return t>>16}function ao(t,e){let n=xE(t),r=e;for(;n>0;)r=r[di],n--;return r}var Hc=!0;function sp(t){let e=Hc;return Hc=t,e}var OE=256,yg=OE-1,_g=5,PE=0,ut={};function kE(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zr)&&(r=n[Zr]),r==null&&(r=n[Zr]=PE++);let i=r&yg,s=1<<i;e.data[t+(i>>_g)]|=s}function Ig(t,e){let n=wg(t,e);if(n!==-1)return n;let r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Ac(r.data,t),Ac(e,null),Ac(r.blueprint,null));let i=Ru(t,e),s=t.injectorIndex;if(vg(i)){let o=oo(i),a=ao(i,e),c=a[k].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Ac(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ru(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Tg(i),r===null)return fr;if(n++,i=i[di],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return fr}function LE(t,e,n){kE(t,e,n)}function FE(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Vp(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Eg(t,e,n){if(n&A.Optional||t!==void 0)return t;Iu(e,"NodeInjector")}function Cg(t,e,n,r){if(n&A.Optional&&r===void 0&&(r=null),!(n&(A.Self|A.Host))){let i=t[hr],s=xe(void 0);try{return i?i.get(e,r,n&A.Optional):Lp(e,r,n&A.Optional)}finally{xe(s)}}return Eg(r,e,n)}function Dg(t,e,n,r=A.Default,i){if(t!==null){if(e[C]&2048&&!(r&A.Self)){let o=BE(t,e,n,r,ut);if(o!==ut)return o}let s=bg(t,e,n,r,ut);if(s!==ut)return s}return Cg(e,n,r,i)}function bg(t,e,n,r,i){let s=VE(n);if(typeof s=="function"){if(!ug(e,t,r))return r&A.Host?Eg(i,n,r):Cg(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&A.Optional))Iu(n);else return o}finally{hg()}}else if(typeof s=="number"){let o=null,a=wg(t,e),c=fr,u=r&A.Host?e[dt][Ze]:null;for((a===-1||r&A.SkipSelf)&&(c=a===-1?Ru(t,e):e[a+8],c===fr||!ap(r,!1)?a=-1:(o=e[k],a=oo(c),e=ao(c,e)));a!==-1;){let l=e[k];if(op(s,a,l.data)){let d=UE(a,e,n,o,r,u);if(d!==ut)return d}c=e[a+8],c!==fr&&ap(r,e[k].data[a+8]===u)&&op(s,a,e)?(o=l,a=oo(c),e=ao(c,e)):a=-1}}return i}function UE(t,e,n,r,i,s){let o=e[k],a=o.data[t+8],c=r==null?Do(a)&&Hc:r!=o&&(a.type&3)!==0,u=i&A.Host&&s===a,l=jE(a,o,n,c,u);return l!==null?si(e,o,l,a):ut}function jE(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,f=i?a+l:u;for(let h=d;h<f;h++){let p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=o[c];if(h&&fi(h)&&h.type===n)return c}return null}function si(t,e,n,r){let i=t[n],s=e.data;if(ME(i)){let o=i;o.resolving&&Tw(bw(s[n]));let a=sp(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?xe(o.injectImpl):null,l=ug(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&SE(n,s[n],e)}finally{u!==null&&xe(u),sp(a),o.resolving=!1,hg()}}return i}function VE(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Zr)?t[Zr]:void 0;return typeof e=="number"?e>=0?e&yg:$E:e}function op(t,e,n){let r=1<<t;return!!(n[e+(t>>_g)]&r)}function ap(t,e){return!(t&A.Self)&&!(t&A.Host&&e)}var vn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Dg(this._tNode,this._lView,e,wo(r),n)}};function $E(){return new vn(Fe(),X())}function xu(t){return ui(()=>{let e=t.prototype.constructor,n=e[eo]||Wc(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[eo]||Wc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Wc(t){return Mp(t)?()=>{let e=Wc(Oe(t));return e&&e()}:gr(t)}function BE(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[C]&2048&&!(o[C]&512);){let a=bg(s,o,n,r|A.Self,ut);if(a!==ut)return a;let c=s.parent;if(!c){let u=o[Kp];if(u){let l=u.get(n,ut,r);if(l!==ut)return l}c=Tg(o),o=o[di]}s=c}return i}function Tg(t){let e=t[k],n=e.type;return n===2?e.declTNode:n===1?t[Ze]:null}function Ou(t){return FE(Fe(),t)}var qs="__parameters__";function HE(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Sg(t,e,n){return ui(()=>{let r=HE(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(qs)?c[qs]:Object.defineProperty(c,qs,{value:[]})[qs];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function WE(t){return typeof t=="function"}function Pu(t,e){t.forEach(n=>Array.isArray(n)?Pu(n,e):e(n))}function Ag(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function co(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zE(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}var Ue=Fp(Sg("Optional"),8);var ku=Fp(Sg("SkipSelf"),4);var mr=new T("ENVIRONMENT_INITIALIZER"),Mg=new T("INJECTOR",-1),Ng=new T("INJECTOR_DEF_TYPES"),uo=class{get(e,n=Jr){if(n===Jr){let r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return n}};function bo(t){return{\u0275providers:t}}function To(...t){return{\u0275providers:Rg(!0,t),\u0275fromNgModule:!0}}function Rg(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Pu(e,o=>{let a=o;zc(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xg(i,s),n}function xg(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lu(i,s=>{e(s,r)})}}function zc(t,e,n,r){if(t=Oe(t),!t)return!1;let i=null,s=Kh(t),o=!s&&Wt(t);if(!s&&!o){let c=t.ngModule;if(s=Kh(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)zc(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Pu(s.imports,l=>{zc(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&xg(u,e)}if(!a){let u=gr(i)||(()=>new i);e({provide:i,useFactory:u,deps:at},i),e({provide:Ng,useValue:i,multi:!0},i),e({provide:mr,useValue:()=>I(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Lu(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Lu(t,e){for(let n of t)Np(n)&&(n=n.\u0275providers),Array.isArray(n)?Lu(n,e):e(n)}var GE=z({provide:String,useValue:z});function Og(t){return t!==null&&typeof t=="object"&&GE in t}function qE(t){return!!(t&&t.useExisting)}function YE(t){return!!(t&&t.useFactory)}function Gc(t){return typeof t=="function"}var So=new T("Set Injector scope."),Zs={},KE={},Mc;function Fu(){return Mc===void 0&&(Mc=new uo),Mc}var Te=class{},oi=class extends Te{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yc(e,o=>this.processProvider(o)),this.records.set(Mg,cr(void 0,this)),i.has("environment")&&this.records.set(Te,cr(void 0,this));let s=this.records.get(So);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ng,at,A.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$t(this),r=xe(void 0),i;try{return e()}finally{$t(n),xe(r)}}get(e,n=Jr,r=A.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qh))return e[qh](this);r=wo(r);let i,s=$t(this),o=xe(void 0);try{if(!(r&A.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=tC(e)&&Io(e);u&&this.injectableDefInScope(u)?c=cr(qc(e),Zs):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&A.Self?Fu():this.parent;return n=r&A.Optional&&n===Jr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[to]=a[to]||[]).unshift(ve(e)),s)throw a;return Uw(a,e,"R3InjectorError",this.source)}else throw a}finally{xe(o),$t(s)}}resolveInjectorInitializers(){let e=$t(this),n=xe(void 0),r;try{let i=this.get(mr,at,A.Self);for(let s of i)s()}finally{$t(e),xe(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){e=Oe(e);let n=Gc(e)?e:Oe(e&&e.provide),r=ZE(e);if(!Gc(e)&&e.multi===!0){let i=this.records.get(n);i||(i=cr(void 0,Zs,!0),i.factory=()=>Uc(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===Zs&&(n.value=KE,n.value=n.factory()),typeof n.value=="object"&&n.value&&eC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Oe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qc(t){let e=Io(t),n=e!==null?e.factory:gr(t);if(n!==null)return n;if(t instanceof T)throw new E(204,!1);if(t instanceof Function)return QE(t);throw new E(204,!1)}function QE(t){let e=t.length;if(e>0){let r=zE(e,"?");throw new E(204,!1)}let n=Mw(t);return n!==null?()=>n.factory(t):()=>new t}function ZE(t){if(Og(t))return cr(void 0,t.useValue);{let e=JE(t);return cr(e,Zs)}}function JE(t,e,n){let r;if(Gc(t)){let i=Oe(t);return gr(i)||qc(i)}else if(Og(t))r=()=>Oe(t.useValue);else if(YE(t))r=()=>t.useFactory(...Uc(t.deps||[]));else if(qE(t))r=()=>I(Oe(t.useExisting));else{let i=Oe(t&&(t.useClass||t.provide));if(XE(t))r=()=>new i(...Uc(t.deps));else return gr(i)||qc(i)}return r}function cr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function XE(t){return!!t.deps}function eC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function tC(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function Yc(t,e){for(let n of t)Array.isArray(n)?Yc(n,e):n&&Np(n)?Yc(n.\u0275providers,e):e(n)}function Qt(t,e){t instanceof oi&&t.assertNotDestroyed();let n,r=$t(t),i=xe(void 0);try{return e()}finally{$t(r),xe(i)}}function nC(t){if(!kp()&&!kw())throw new E(-203,!1)}function cp(t,e=null,n=null,r){let i=Pg(t,e,n,r);return i.resolveInjectorInitializers(),i}function Pg(t,e=null,n=null,r,i=new Set){let s=[n||at,To(t)];return r=r||(typeof t=="object"?void 0:ve(t)),new oi(s,e||Fu(),r||null,i)}var Se=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return cp({name:""},i,r,"");{let s=r.name??"";return cp({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Jr,e.NULL=new uo,e.\u0275prov=w({token:e,providedIn:"any",factory:()=>I(Mg)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Kc;function kg(t){Kc=t}function rC(){if(Kc!==void 0)return Kc;if(typeof document<"u")return document;throw new E(210,!1)}var Uu=new T("AppId",{providedIn:"root",factory:()=>iC}),iC="ng",ju=new T("Platform Initializer"),At=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Vu=new T("CSP nonce",{providedIn:"root",factory:()=>rC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Lg(t){return t instanceof Function?t():t}function sC(t){return(t??v(Se)).get(At)==="browser"}function Fg(t){return(t.flags&128)===128}var Cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cn||{});var Ug=new Map,oC=0;function aC(){return oC++}function cC(t){Ug.set(t[Co],t)}function uC(t){Ug.delete(t[Co])}var up="__ngContext__";function wn(t,e){Ht(e)?(t[up]=e[Co],cC(e)):t[up]=e}var lC;function $u(t,e){return lC(t,e)}function Bu(t){let e=t[ne];return Qe(e)?e[ne]:e}function jg(t){return $g(t[ti])}function Vg(t){return $g(t[Ke])}function $g(t){for(;t!==null&&!Qe(t);)t=t[Ke];return t}function ur(t,e,n,r,i){if(r!=null){let s,o=!1;Qe(r)?s=r:Ht(r)&&(o=!0,r=r[St]);let a=ft(r);t===0&&n!==null?i==null?zg(e,n,a):lo(e,n,a,i||null,!0):t===1&&n!==null?lo(e,n,a,i||null,!0):t===2?AC(e,a,o):t===3&&e.destroyNode(a),s!=null&&NC(e,t,s,n,i)}}function dC(t,e){return t.createText(e)}function fC(t,e,n){t.setValue(e,n)}function Bg(t,e,n){return t.createElement(e,n)}function hC(t,e){let n=e[ue];gi(t,e,n,2,null,null),e[St]=null,e[Ze]=null}function pC(t,e,n,r,i,s){r[St]=i,r[Ze]=e,gi(t,r,n,1,i,s)}function gC(t,e){gi(t,e,e[ue],2,null,null)}function mC(t){let e=t[ti];if(!e)return Nc(t[k],t);for(;e;){let n=null;if(Ht(e))n=e[ti];else{let r=e[Pe];r&&(n=r)}if(!n){for(;e&&!e[Ke]&&e!==t;)Ht(e)&&Nc(e[k],e),e=e[ne];e===null&&(e=t),Ht(e)&&Nc(e[k],e),n=e&&e[Ke]}e=n}}function vC(t,e,n,r){let i=Pe+r,s=n.length;r>0&&(n[i-1][Ke]=e),r<s-Pe?(e[Ke]=n[i],Ag(n,Pe+r,e)):(n.push(e),e[Ke]=null),e[ne]=n;let o=e[Eo];o!==null&&n!==o&&yC(o,e);let a=e[ni];a!==null&&a.insertView(t),$c(e),e[C]|=128}function yC(t,e){let n=t[io],i=e[ne][ne][dt];e[dt]!==i&&(t[C]|=pr.HasTransplantedViews),n===null?t[io]=[e]:n.push(e)}function Hg(t,e){let n=t[io],r=n.indexOf(e),i=e[ne];n.splice(r,1)}function Qc(t,e){if(t.length<=Pe)return;let n=Pe+e,r=t[n];if(r){let i=r[Eo];i!==null&&i!==t&&Hg(i,r),e>0&&(t[n-1][Ke]=r[Ke]);let s=co(t,Pe+e);hC(r[k],r);let o=s[ni];o!==null&&o.detachView(s[k]),r[ne]=null,r[Ke]=null,r[C]&=-129}return r}function Wg(t,e){if(!(e[C]&256)){let n=e[ue];n.destroyNode&&gi(t,e,n,3,null,null),mC(e)}}function Nc(t,e){if(!(e[C]&256)){e[C]&=-129,e[C]|=256,e[yn]&&mh(e[yn]),IC(t,e),_C(t,e),e[k].type===1&&e[ue].destroy();let n=e[Eo];if(n!==null&&Qe(e[ne])){n!==e[ne]&&Hg(n,e);let r=e[ni];r!==null&&r.detachView(t)}uC(e)}}function _C(t,e){let n=t.cleanup,r=e[ei];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ei]=null);let i=e[Bt];if(i!==null){e[Bt]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function IC(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ii)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];ct(4,a,c);try{c.call(a)}finally{ct(5,a,c)}}else{ct(4,i,s);try{s.call(i)}finally{ct(5,i,s)}}}}}function wC(t,e,n){return EC(t,e.parent,n)}function EC(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[St];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===lt.None||s===lt.Emulated)return null}return Le(r,n)}}function lo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zg(t,e,n){t.appendChild(e,n)}function lp(t,e,n,r,i){r!==null?lo(t,e,n,r,i):zg(t,e,n)}function CC(t,e,n,r){t.removeChild(e,n,r)}function Hu(t,e){return t.parentNode(e)}function DC(t,e){return t.nextSibling(e)}function bC(t,e,n){return SC(t,e,n)}function TC(t,e,n){return t.type&40?Le(t,n):null}var SC=TC,dp;function Wu(t,e,n,r){let i=wC(t,r,e),s=e[ue],o=r.parent||e[Ze],a=bC(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)lp(s,i,n[c],a,!1);else lp(s,i,n,a,!1);dp!==void 0&&dp(s,r,e,n,i)}function Js(t,e){if(e!==null){let n=e.type;if(n&3)return Le(e,t);if(n&4)return Zc(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Js(t,r);{let i=t[e.index];return Qe(i)?Zc(-1,i):ft(i)}}else{if(n&32)return $u(e,t)()||ft(t[e.index]);{let r=Gg(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Bu(t[dt]);return Js(i,r)}else return Js(t,e.next)}}}return null}function Gg(t,e){if(e!==null){let r=t[dt][Ze],i=e.projection;return r.projection[i]}return null}function Zc(t,e){let n=Pe+t+1;if(n<e.length){let r=e[n],i=r[k].firstChild;if(i!==null)return Js(r,i)}return e[_n]}function AC(t,e,n){let r=Hu(t,e);r&&CC(t,r,e,n)}function zu(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&wn(ft(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)zu(t,e,n.child,r,i,s,!1),ur(e,t,i,a,s);else if(c&32){let u=$u(n,r),l;for(;l=u();)ur(e,t,i,l,s);ur(e,t,i,a,s)}else c&16?MC(t,e,r,n,i,s):ur(e,t,i,a,s);n=o?n.projectionNext:n.next}}function gi(t,e,n,r,i,s){zu(n,r,t.firstChild,e,i,s,!1)}function MC(t,e,n,r,i,s){let o=n[dt],c=o[Ze].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ur(e,t,i,l,s)}else{let u=c,l=o[ne];Fg(r)&&(u.flags|=128),zu(t,e,u,l,i,s,!0)}}function NC(t,e,n,r,i){let s=n[_n],o=ft(n);s!==o&&ur(e,t,r,s,i);for(let a=Pe;a<n.length;a++){let c=n[a];gi(c[k],c,t,e,r,s)}}function RC(t,e,n){t.setAttribute(e,"style",n)}function qg(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Yg(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&jc(t,e,r),i!==null&&qg(t,e,i),s!==null&&RC(t,e,s)}var Ys;function xC(){if(Ys===void 0&&(Ys=null,mn.trustedTypes))try{Ys=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ys}function fp(t){return xC()?.createScriptURL(t)||t}var fo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rp})`}};function Ao(t){return t instanceof fo?t.changingThisBreaksApplicationSecurity:t}function Gu(t,e){let n=OC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Rp})`)}return n===e}function OC(t){return t instanceof fo&&t.getTypeName()||null}var PC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kg(t){return t=String(t),t.match(PC)?t:"unsafe:"+t}var Mo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mo||{});function kC(t){let e=Zg();return e?e.sanitize(Mo.URL,t)||"":Gu(t,"URL")?Ao(t):Kg(_o(t))}function LC(t){let e=Zg();if(e)return fp(e.sanitize(Mo.RESOURCE_URL,t)||"");if(Gu(t,"ResourceURL"))return fp(Ao(t));throw new E(904,!1)}function FC(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?LC:kC}function Qg(t,e,n){return FC(e,n)(t)}function Zg(){let t=X();return t&&t[Dt].sanitizer}var Jc=class{};var UC="h",jC="b";var VC=(t,e,n)=>null;function qu(t,e,n=!1){return VC(t,e,n)}var Xc=class{},ho=class{};function $C(t){let e=Error(`No component factory found for ${ve(t)}.`);return e[BC]=t,e}var BC="ngComponent";var eu=class{resolveComponentFactory(e){throw $C(e)}},No=(()=>{let e=class e{};e.NULL=new eu;let t=e;return t})();function HC(){return Ro(Fe(),X())}function Ro(t,e){return new mi(Le(t,e))}var mi=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=HC;let t=e;return t})();var ai=class{},xo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>WC();let t=e;return t})();function WC(){let t=X(),e=Fe(),n=Yt(e.index,t);return(Ht(n)?n:t)[ue]}var zC=(()=>{let e=class e{};e.\u0275prov=w({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Rc={};function Jg(t){return qC(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function GC(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function qC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var tu=class{constructor(){}supports(e){return Jg(e)}create(e){return new nu(e)}},YC=(t,e)=>e,nu=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||YC}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<hp(r,i,s)?n:r,a=hp(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){let h=f<s.length?s[f]:s[f]=0,p=h+f;l<=p&&p<u&&(s[f]=h+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Jg(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,GC(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new ru(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new po),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new po),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ru=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},iu=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},po=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new iu,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hp(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function pp(){return new Yu([new tu])}var Yu=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pp()),deps:[[e,new ku,new Ue]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new E(901,!1)}};e.\u0275prov=w({token:e,providedIn:"root",factory:pp});let t=e;return t})();function go(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(ft(s)),Qe(s)&&KC(s,r);let o=n.type;if(o&8)go(t,e,n.child,r);else if(o&32){let a=$u(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Gg(e,n);if(Array.isArray(a))r.push(...a);else{let c=Bu(e[dt]);go(c[k],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KC(t,e){for(let n=Pe;n<t.length;n++){let r=t[n],i=r[k].firstChild;i!==null&&go(r[k],r,i,e)}t[_n]!==t[St]&&e.push(t[_n])}var Xg=[];function QC(t){return t[yn]??ZC(t)}function ZC(t){let e=Xg.pop()??Object.create(XC);return e.lView=t,e}function JC(t){t.lView[yn]!==t&&(t.lView=null,Xg.push(t))}var XC=K(y({},hh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ri(t.lView)},consumerOnSignalRead(){this.lView[yn]=this}}),eD="ngOriginalError";function xc(t){return t[eD]}var ht=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xc(e);for(;n&&xc(n);)n=xc(n);return n||null}},em=new T("",{providedIn:"root",factory:()=>v(ht).handleError.bind(void 0)});var tm=!1,tD=new T("",{providedIn:"root",factory:()=>tm});var vi={};function Dn(t){nm(Kt(),X(),Su()+t,!1)}function nm(t,e,n,r){if(!r)if((e[C]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ks(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Qs(e,s,0,n)}In(n)}function Je(t,e=A.Default){let n=X();if(n===null)return I(t,e);let r=Fe();return Dg(r,n,Oe(t),e)}function rm(){let t="invalid";throw new Error(t)}function nD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)In(~i);else{let s=i,o=n[++r],a=n[++r];CE(o,s);let c=e[s];a(2,c)}}}finally{In(-1)}}function Oo(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[St]=i,d[C]=r|4|128|8|64,(u!==null||t&&t[C]&2048)&&(d[C]|=2048),ng(d),d[ne]=d[di]=t,d[Ct]=n,d[Dt]=o||t&&t[Dt],d[ue]=a||t&&t[ue],d[hr]=c||t&&t[hr]||null,d[Ze]=s,d[Co]=aC(),d[no]=l,d[Kp]=u,d[dt]=e.type==2?t[dt]:d,d}function Po(t,e,n,r,i){let s=t.data[e];if(s===null)s=rD(t,e,n,r,i),EE()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yE();s.injectorIndex=o===null?-1:o.injectorIndex}return pi(s,!0),s}function rD(t,e,n,r,i){let s=og(),o=ag(),a=o?s:s&&s.parent,c=t.data[e]=cD(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function im(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sm(t,e,n,r,i){let s=Su(),o=r&2;try{In(-1),o&&e.length>zt&&nm(t,e,zt,!1),ct(o?2:0,i),n(r,i)}finally{In(s),ct(o?3:1,i)}}function om(t,e,n){if(Zp(e)){let r=De(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{De(r)}}}function am(t,e,n){sg()&&(gD(t,e,n,Le(n,e)),(n.flags&64)===64&&fm(t,e,n))}function cm(t,e,n=Le){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function um(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ku(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ku(t,e,n,r,i,s,o,a,c,u,l){let d=zt+r,f=d+i,h=iD(d,f),p=typeof u=="function"?u():u;return h[k]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function iD(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:vi);return n}function sD(t,e,n,r){let s=r.get(tD,tm)||n===lt.ShadowDom,o=t.selectRootElement(e,s);return oD(o),o}function oD(t){aD(t)}var aD=t=>null;function cD(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return gE()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gp(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?mp(n,e,i,s):r.hasOwnProperty(i)&&mp(n,e,r[i],s)}return n}function mp(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function uD(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=gp(d.inputs,l,c,h),u=gp(d.outputs,l,u,p);let _=c!==null&&o!==null&&!Bp(e)?TD(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function lD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function dD(t,e,n,r,i,s,o,a){let c=Le(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Qu(t,n,l,r,i),Do(e)&&fD(n,e.index)):e.type&3?(r=lD(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function fD(t,e){let n=Yt(e,t);n[C]&16||(n[C]|=64)}function lm(t,e,n,r){if(sg()){let i=r===null?null:{"":-1},s=vD(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&dm(t,e,n,o,i,a),i&&yD(n,r,i)}n.mergedAttrs=wu(n.mergedAttrs,n.attrs)}function dm(t,e,n,r,i,s){for(let u=0;u<r.length;u++)LE(Ig(n,e),t,r[u].type);ID(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=im(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=wu(n.mergedAttrs,l.hostAttrs),wD(t,n,e,c,l),_D(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}uD(t,n,s)}function hD(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;pD(o)!=a&&o.push(a),o.push(n,r,s)}}function pD(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function gD(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Do(n)&&ED(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ig(n,e),wn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=si(e,t,a,n);if(wn(u,e),o!==null&&bD(e,a-i,u,c,n,o),fi(c)){let l=Yt(n.index,e);l[Ct]=si(e,t,a,n)}}}function fm(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=DE();try{In(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Bc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mD(c,u)}}finally{In(-1),Bc(o)}}function mD(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vD(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(zw(e,o.selectors,!1))if(r||(r=[]),fi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;su(t,e,c)}else r.unshift(o),su(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function su(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yD(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new E(-301,!1);r.push(e[i],s)}}}function _D(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fi(e)&&(n[""]=t)}}function ID(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wD(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=gr(i.type,!0)),o=new ii(s,fi(i),Je);t.blueprint[r]=o,n[r]=o,hD(t,e,r,im(t,n,i.hostVars,vi),i)}function ED(t,e,n){let r=Le(e,t),i=um(n),s=t[Dt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ko(t,Oo(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function CD(t,e,n,r,i,s){let o=Le(t,e);DD(e[ue],o,s,t.value,n,r,i)}function DD(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?_o(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function bD(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];hm(r,n,c,u,l)}}function hm(t,e,n,r,i){let s=De(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{De(s)}}function TD(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function pm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gm(t,e){let n=t.contentQueries;if(n!==null){let r=De(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];cg(s),a.contentQueries(2,e[o],o)}}}finally{De(r)}}}function ko(t,e){return t[ti]?t[np][Ke]=e:t[ti]=e,t[np]=e,e}function ou(t,e,n){cg(0);let r=De(null);try{e(t,n)}finally{De(r)}}function SD(t){return t[ei]||(t[ei]=[])}function AD(t){return t.cleanup||(t.cleanup=[])}function mm(t,e){let n=t[hr],r=n?n.get(ht,null):null;r&&r.handleError(e)}function Qu(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];hm(u,c,r,a,i)}}function MD(t,e,n){let r=cE(e,t);fC(t[ue],r,n)}var ND=100;function RD(t,e=!0){let n=t[Dt],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{xD(t)}catch(o){throw e&&mm(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function xD(t){au(t,0);let e=0;for(;rg(t);){if(e===ND)throw new E(103,!1);e++,au(t,1)}}function OD(t,e,n,r){let i=e[C];if((i&256)===256)return;let s=!1;!s&&e[Dt].inlineEffectRunner?.flush(),bu(e);let o=null,a=null;!s&&PD(t)&&(a=QC(e),o=ph(a));try{ng(e),wE(t.bindingStartIndex),n!==null&&sm(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Ks(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Qs(e,d,0,null),Sc(e,0)}if(kD(e),vm(e,0),t.contentQueries!==null&&gm(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Ks(e,d)}else{let d=t.contentHooks;d!==null&&Qs(e,d,1),Sc(e,1)}nD(t,e);let u=t.components;u!==null&&_m(e,u,0);let l=t.viewQuery;if(l!==null&&ou(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Ks(e,d)}else{let d=t.viewHooks;d!==null&&Qs(e,d,2),Sc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tc]){for(let d of e[Tc])d();e[Tc]=null}s||(e[C]&=-73)}catch(c){throw ri(e),c}finally{a!==null&&(gh(a,o),JC(a)),Tu()}}function PD(t){return t.type!==2}function vm(t,e){for(let n=jg(t);n!==null;n=Vg(n)){n[C]&=~pr.HasChildViewsToRefresh;for(let r=Pe;r<n.length;r++){let i=n[r];ym(i,e)}}}function kD(t){for(let e=jg(t);e!==null;e=Vg(e)){if(!(e[C]&pr.HasTransplantedViews))continue;let n=e[io];for(let r=0;r<n.length;r++){let i=n[r],s=i[ne];lE(i)}}}function LD(t,e,n){let r=Yt(e,t);ym(r,n)}function ym(t,e){Cu(t)&&au(t,e)}function au(t,e){let r=t[k],i=t[C],s=t[yn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ic(s)),s&&(s.dirty=!1),t[C]&=-9217,o)OD(r,t,r.template,t[Ct]);else if(i&8192){vm(t,1);let a=r.components;a!==null&&_m(t,a,1)}}function _m(t,e,n){for(let r=0;r<e.length;r++)LD(t,e[r],n)}function Zu(t){for(t[Dt].changeDetectionScheduler?.notify();t;){t[C]|=64;let e=Bu(t);if(eE(t)&&!e)return t;t=e}return null}var En=class{get rootNodes(){let e=this._lView,n=e[k];return go(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return(this._lView[C]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ne];if(Qe(e)){let n=e[ro],r=n?n.indexOf(this):-1;r>-1&&(Qc(e,r),co(n,r))}this._attachedToViewContainer=!1}Wg(this._lView[k],this._lView)}onDestroy(e){ig(this._lView,e)}markForCheck(){Zu(this._cdRefInjectingView||this._lView)}detach(){this._lView[C]&=-129}reattach(){$c(this._lView),this._lView[C]|=128}detectChanges(){this._lView[C]|=1024,RD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,gC(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e,$c(this._lView)}},Lo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FD;let t=e;return t})();function FD(t){return UD(Fe(),X(),(t&16)===16)}function UD(t,e,n){if(Do(t)&&!n){let r=Yt(t.index,e);return new En(r,r)}else if(t.type&47){let r=e[dt];return new En(r,e)}return null}var Im=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),cu=class extends Im{constructor(e){super(),this._lView=e}onDestroy(e){return ig(this._lView,e),()=>dE(this._lView,e)}};function jD(){return new cu(X())}var vp=new Set;function Ju(t){vp.has(t)||(vp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var uu=class extends ge{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Oc(s),i&&(i=Oc(i)),o&&(o=Oc(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Z&&e.add(a),a}};function Oc(t){return e=>{setTimeout(t,void 0,e)}}var Ye=uu;function yp(...t){}function VD(){let t=typeof mn.requestAnimationFrame=="function",e=mn[t?"requestAnimationFrame":"setTimeout"],n=mn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var $=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=VD().nativeRequestAnimationFrame,HD(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$D,yp,yp);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$D={};function Xu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BD(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,lu(t),t.isCheckStableRunning=!0,Xu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),lu(t))}function HD(t){let e=()=>{BD(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(WD(a))return n.invokeTask(i,s,o,a);try{return _p(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ip(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return _p(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ip(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,lu(t),Xu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function lu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _p(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ip(t){t._nesting--,Xu(t)}function WD(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var lr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(lr||{}),zD={destroy(){}};function el(t,e){!e&&nC(el);let n=e?.injector??v(Se);if(!sC(n))return zD;Ju("NgAfterNextRender");let r=n.get(wm),i=r.handler??=new fu,s=e?.phase??lr.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Im).onDestroy(o),c=new du(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var du=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get($),this.errorHandler=e.get(ht,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},fu=class{constructor(){this.executingCallbacks=!1,this.buckets={[lr.EarlyRead]:new Set,[lr.Write]:new Set,[lr.MixedReadWrite]:new Set,[lr.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new E(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},wm=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function GD(t,e){let n=Yt(e,t),r=n[k];qD(r,n);let i=n[St];i!==null&&n[no]===null&&(n[no]=qu(i,n[hr])),tl(r,n,n[Ct])}function qD(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tl(t,e,n){bu(e);try{let r=t.viewQuery;r!==null&&ou(1,r,n);let i=t.template;i!==null&&sm(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gm(t,e),t.staticViewQueries&&ou(2,t.viewQuery,n);let s=t.components;s!==null&&YD(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[C]&=-5,Tu()}}function YD(t,e){for(let n=0;n<e.length;n++)GD(t,e[n])}function hu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Gh(i,a);else if(s==2){let c=a,u=e[++o];r=Gh(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var mo=class extends No{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wt(e);return new vr(n,this.ngModule)}};function wp(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function KD(t){let e=t.toLowerCase();return e==="svg"?iE:e==="math"?sE:null}var pu=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wo(r);let i=this.injector.get(e,Rc,r);return i!==Rc||n===Rc?i:this.parentInjector.get(e,n,r)}},vr=class extends ho{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=wp(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wp(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Kw(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Te?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new pu(e,s):e,a=o.get(ai,null);if(a===null)throw new E(407,!1);let c=o.get(zC,null),u=o.get(wm,null),l=o.get(Jc,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?sD(f,r,this.componentDef.encapsulation,o):Bg(f,h,KD(h)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let R=null;p!==null&&(R=qu(p,o,!0));let F=Ku(0,null,null,1,0,null,null,null,null,null,null),Q=Oo(null,F,null,_,null,null,d,f,o,null,R);bu(Q);let ae,de;try{let Ee=this.componentDef,Ce,Gn=null;Ee.findHostDirectiveDefs?(Ce=[],Gn=new Map,Ee.findHostDirectiveDefs(Ee,Ce,Gn),Ce.push(Ee)):Ce=[Ee];let nc=QD(Q,p),Gr=ZD(nc,p,Ee,Ce,Q,d,f);de=tg(F,zt),p&&eb(f,Ee,p,r),n!==void 0&&tb(de,this.ngContentSelectors,n),ae=XD(Gr,Ee,Ce,Gn,Q,[nb]),tl(F,Q,null)}finally{Tu()}return new gu(this.componentType,ae,Ro(de,Q),Q,de)}},gu=class extends Xc{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new En(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Qu(s[k],s,i,e,n),this.previousInputValues.set(e,n);let o=Yt(this._tNode.index,s);Zu(o)}}get injector(){return new vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QD(t,e){let n=t[k],r=zt;return t[r]=e,Po(n,r,2,"#host",null)}function ZD(t,e,n,r,i,s,o){let a=i[k];JD(r,t,e,o);let c=null;e!==null&&(c=qu(e,i[hr]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Oo(i,um(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&su(a,t,r.length-1),ko(i,d),i[t.index]=d}function JD(t,e,n,r){for(let i of t)e.mergedAttrs=wu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hu(e,e.mergedAttrs,!0),n!==null&&Yg(r,n,e))}function XD(t,e,n,r,i,s){let o=Fe(),a=i[k],c=Le(o,i);dm(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,f=si(i,a,d,o);wn(f,i)}fm(a,i,o),c&&wn(c,i);let u=si(i,a,o.directiveStart+o.componentOffset,o);if(t[Ct]=i[Ct]=u,s!==null)for(let l of s)l(u,e);return om(a,o,t),u}function eb(t,e,n,r){if(r)jc(t,n,["ng-version","17.0.8"]);else{let{attrs:i,classes:s}=Qw(e.selectors[0]);i&&jc(t,n,i),s&&s.length>0&&qg(t,n,s.join(" "))}}function tb(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function nb(){let t=Fe();Nu(X()[k],t)}function nl(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function rb(t,e,n){return t[e]=n}function ib(t,e){return t[e]}function rl(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function il(t,e,n,r){let i=X(),s=Du();if(rl(i,s,e)){let o=Kt(),a=pg();CD(a,i,t,e,n,r)}return il}function sb(t,e,n,r){return rl(t,Du(),n)?e+_o(n)+r:vi}function Zt(t,e,n){let r=X(),i=Du();if(rl(r,i,e)){let s=Kt(),o=pg();dD(s,o,r,t,e,r[ue],n,!1)}return Zt}function Ep(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Qu(t,n,s[o],o,r)}var K1=new RegExp(`^(\\d+)*(${jC}|${UC})*(.*)`);var ob=(t,e)=>null;function Cp(t,e){return ob(t,e)}function ab(t,e,n,r){let i=e.tView,o=t[C]&4096?4096:16,a=Oo(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Eo]=c;let u=t[ni];return u!==null&&(a[ni]=u.createEmbeddedView(i)),tl(i,a,n),a}function Dp(t,e){return!e||e.firstChild===null||Fg(t)}function cb(t,e,n,r=!0){let i=e[k];if(vC(i,e,t,n),r){let o=Zc(n,t),a=e[ue],c=Hu(a,t[_n]);c!==null&&pC(i,t[Ze],a,e,c,o)}let s=e[no];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var yi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ub;let t=e;return t})();function ub(){let t=Fe();return db(t,X())}var lb=yi,Em=class extends lb{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ro(this._hostTNode,this._hostLView)}get injector(){return new vn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ru(this._hostTNode,this._hostLView);if(vg(e)){let n=ao(e,this._hostLView),r=oo(e),i=n[k].data[r+8];return new vn(i,n)}else return new vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Pe}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Cp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Dp(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!WE(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new vr(Wt(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(Te,null);_&&(s=_)}let l=Wt(c.componentType??{}),d=Cp(this._lContainer,l?.id??null),f=d?.firstChild??null,h=c.create(u,i,f,s);return this.insertImpl(h.hostView,a,Dp(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(uE(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ne],u=new Em(c,c[Ze],c[ne]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return cb(o,i,s,r),e.attachToViewContainerRef(),Ag(Pc(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Qc(this._lContainer,n);r&&(co(Pc(this._lContainer),n),Wg(r[k],r))}detach(e){let n=this._adjustIndex(e,-1),r=Qc(this._lContainer,n);return r&&co(Pc(this._lContainer),n)!=null?new En(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bp(t){return t[ro]}function Pc(t){return t[ro]||(t[ro]=[])}function db(t,e){let n,r=e[t.index];return Qe(r)?n=r:(n=pm(r,e,null,t),e[t.index]=n,ko(e,n)),hb(n,e,t,r),new Em(n,t,e)}function fb(t,e){let n=t[ue],r=n.createComment(""),i=Le(e,t),s=Hu(n,i);return lo(n,s,r,DC(n,i),!1),r}var hb=mb,pb=(t,e,n)=>!1;function gb(t,e,n){return pb(t,e,n)}function mb(t,e,n,r){if(t[_n])return;let i;n.type&8?i=ft(r):i=fb(e,n),t[_n]=i}function vb(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Po(e,t,4,o||null,so(u,a));lm(e,n,l,so(u,c)),Nu(e,l);let d=l.tView=Ku(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function sl(t,e,n,r,i,s,o,a){let c=X(),u=Kt(),l=t+zt,d=u.firstCreatePass?vb(l,u,c,e,n,r,i,s,o):u.data[l];pi(d,!1);let f=yb(u,c,d,t);Au()&&Wu(u,c,f,d),wn(f,c);let h=pm(f,c,f,d);return c[l]=h,ko(c,h),gb(h,d,c),Eu(d)&&am(u,c,d),o!=null&&cm(c,d,a),sl}var yb=_b;function _b(t,e,n,r){return Mu(!0),e[ue].createComment("")}function Ib(t,e,n,r,i,s){let o=e.consts,a=so(o,i),c=Po(e,t,2,r,a);return lm(e,n,c,so(o,s)),c.attrs!==null&&hu(c,c.attrs,!1),c.mergedAttrs!==null&&hu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ye(t,e,n,r){let i=X(),s=Kt(),o=zt+t,a=i[ue],c=s.firstCreatePass?Ib(o,s,i,e,n,r):s.data[o],u=wb(s,i,c,a,e,t);i[o]=u;let l=Eu(c);return pi(c,!0),Yg(a,u,c),(c.flags&32)!==32&&Au()&&Wu(s,i,u,c),fE()===0&&wn(u,i),hE(),l&&(am(s,i,c),om(s,c,i)),r!==null&&cm(i,c),ye}function _e(){let t=Fe();ag()?_E():(t=t.parent,pi(t,!1));let e=t;mE(e)&&vE(),pE();let n=Kt();return n.firstCreatePass&&(Nu(n,t),Zp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NE(e)&&Ep(n,e,X(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RE(e)&&Ep(n,e,X(),e.stylesWithoutHost,!1),_e}function bn(t,e,n,r){return ye(t,e,n,r),_e(),bn}var wb=(t,e,n,r,i,s)=>(Mu(!0),Bg(r,i,TE()));var vo="en-US";var Eb=vo;function Cb(t){Sw(t,"Expected localeId to be defined"),typeof t=="string"&&(Eb=t.toLowerCase().replace(/_/g,"-"))}function _i(t){return!!t&&typeof t.then=="function"}function Cm(t){return!!t&&typeof t.subscribe=="function"}function ol(t,e,n,r){let i=X(),s=Kt(),o=Fe();return bb(s,i,i[ue],o,t,e,r),ol}function Db(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ei],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function bb(t,e,n,r,i,s,o){let a=Eu(r),u=t.firstCreatePass&&AD(t),l=e[Ct],d=SD(e),f=!0;if(r.type&3||o){let _=Le(r,e),R=o?o(_):_,F=d.length,Q=o?de=>o(ft(de[r.index])):r.index,ae=null;if(!o&&a&&(ae=Db(t,e,i,r.index)),ae!==null){let de=ae.__ngLastListenerFn__||ae;de.__ngNextListenerFn__=s,ae.__ngLastListenerFn__=s,f=!1}else{s=Sp(r,e,l,s,!1);let de=n.listen(R,i,s);d.push(s,de),u&&u.push(i,Q,F,F+1)}}else s=Sp(r,e,l,s,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let _=p.length;if(_)for(let R=0;R<_;R+=2){let F=p[R],Q=p[R+1],Ee=e[F][Q].subscribe(s),Ce=d.length;d.push(s,Ee),u&&u.push(i,r.index,Ce,-(Ce+1))}}}function Tp(t,e,n,r){try{return ct(6,e,n),n(r)!==!1}catch(i){return mm(t,i),!1}finally{ct(7,e,n)}}function Sp(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Yt(t.index,e):e;Zu(a);let c=Tp(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Tp(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function je(t,e=""){let n=X(),r=Kt(),i=t+zt,s=r.firstCreatePass?Po(r,i,1,e,null):r.data[i],o=Tb(r,n,s,e,t);n[i]=o,Au()&&Wu(r,n,o,s),pi(s,!1)}var Tb=(t,e,n,r,i)=>(Mu(!0),dC(e[ue],r));function Fo(t,e,n){let r=X(),i=sb(r,t,e,n);return i!==vi&&MD(r,Su(),i),Fo}var Gt=class{},ci=class{};var mu=class extends Gt{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mo(this);let i=Gp(e);this._bootstrapComponents=Lg(i.bootstrap),this._r3Injector=Pg(e,n,[{provide:Gt,useValue:this},{provide:No,useValue:this.componentFactoryResolver},...r],ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vu=class extends ci{constructor(e){super(),this.moduleType=e}create(e){return new mu(this.moduleType,e,[])}};var yo=class extends Gt{constructor(e){super(),this.componentFactoryResolver=new mo(this),this.instance=null;let n=new oi([...e.providers,{provide:Gt,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],e.parent||Fu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Uo(t,e,n=null){return new yo({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Sb=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Rg(!1,r.type),s=i.length>0?Uo([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(I(Te))});let t=e;return t})();function Ve(t){Ju("NgStandalone"),t.getStandaloneInjector=e=>e.get(Sb).getOrCreateStandaloneInjector(t)}function Dm(t,e,n){let r=IE()+t,i=X();return i[r]===vi?rb(i,r,n?e.call(n):e()):ib(i,r)}var al=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Nb;let t=e;return t})(),Ab=al,Mb=class extends Ab{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ab(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new En(i)}};function Nb(){return Rb(Fe(),X())}function Rb(t,e){return t.type&4?new Mb(e,t,Ro(t,e)):null}var qt=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},bm=new qt("17.0.8");var jo=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),yu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vo=(()=>{let e=class e{compileModuleSync(r){return new vu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Gp(r),o=Lg(s.declarations).reduce((a,c)=>{let u=Wt(c);return u&&a.push(new vr(u)),a},[]);return new yu(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $o=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tm=new T("");var Bo=new T("Application Initializer"),Sm=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(Bo,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(_i(o))r.push(o);else if(Cm(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ho=new T("appBootstrapListener");function xb(){vh(()=>{throw new E(600,!1)})}function Ob(t){return t.isBoundToModule}function Pb(t,e,n){try{let r=n();return _i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ii=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(em),this.componentTypes=[],this.components=[],this.isStable=v($o).hasPendingTasks.pipe(P(r=>!r)),this._injector=v(Te)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ho;if(!this._injector.get(Sm).done){let p="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&zp(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new E(405,!1)}let a;s?a=r:a=this._injector.get(No).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Ob(a)?void 0:this._injector.get(Gt),u=i||a.selector,l=a.create(Se.NULL,[],u,c),d=l.location.nativeElement,f=l.injector.get(Tm,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),kc(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;kc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ho,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>kc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new E(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var kb=(()=>{let e=class e{constructor(){this.zone=v($),this.applicationRef=v(Ii)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lb(t){return[{provide:$,useFactory:t},{provide:mr,multi:!0,useFactory:()=>{let e=v(kb,{optional:!0});return()=>e.initialize()}},{provide:mr,multi:!0,useFactory:()=>{let e=v(Vb);return()=>{e.initialize()}}},{provide:em,useFactory:Fb}]}function Fb(){let t=v($),e=v(ht);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Ub(t){let e=Lb(()=>new $(jb(t)));return bo([[],e])}function jb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Vb=(()=>{let e=class e{constructor(){this.subscription=new Z,this.initialized=!1,this.zone=v($),this.pendingTasks=v($o)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $b(){return typeof $localize<"u"&&$localize.locale||vo}var cl=new T("LocaleId",{providedIn:"root",factory:()=>v(cl,A.Optional|A.SkipSelf)||$b()});var Am=new T("PlatformDestroyListeners");var Xs=null;function Bb(t=[],e){return Se.create({name:e,providers:[{provide:So,useValue:"platform"},{provide:Am,useValue:new Set([()=>Xs=null])},...t]})}function Hb(t=[]){if(Xs)return Xs;let e=Bb(t);return Xs=e,xb(),Wb(e),e}function Wb(t){t.get(ju,null)?.forEach(n=>n())}function Mm(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Hb(r),s=[Ub(),...n||[]],a=new yo({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get($);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(ht,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:h=>{u.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Am);return f.add(d),a.onDestroy(()=>{l.unsubscribe(),f.delete(d)}),Pb(u,c,()=>{let h=a.get(Sm);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(cl,vo);Cb(p||vo);let _=a.get(Ii);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function wi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Nm(t){let e=Wt(t);if(!e)return null;let n=new vr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ul=null;function yr(){return ul}function Pm(t){ul||(ul=t)}var Wo=class{},pe=new T("DocumentToken"),fl=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>v(zb))(),providedIn:"platform"});let t=e;return t})(),km=new T("Location Initialized"),zb=(()=>{let e=class e extends fl{constructor(){super(),this._doc=v(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yr().getBaseHref(this._doc)}onPopState(r){let i=yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function hl(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Rm(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Mt(t){return t&&t[0]!=="?"?"?"+t:t}var Nt=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>v(pl))(),providedIn:"root"});let t=e;return t})(),Lm=new T("appBaseHref"),pl=(()=>{let e=class e extends Nt{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return hl(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Mt(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Mt(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Mt(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(I(fl),I(Lm,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fm=(()=>{let e=class e extends Nt{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=hl(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Mt(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Mt(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(I(fl),I(Lm,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),_r=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Yb(Rm(xm(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Mt(i))}normalize(r){return e.stripTrailingSlash(qb(this._basePath,xm(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mt(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mt(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Mt,e.joinWithSlash=hl,e.stripTrailingSlash=Rm,e.\u0275fac=function(i){return new(i||e)(I(Nt))},e.\u0275prov=w({token:e,factory:()=>Gb(),providedIn:"root"});let t=e;return t})();function Gb(){return new _r(I(Nt))}function qb(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xm(t){return t.replace(/\/index.html$/,"")}function Yb(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Um(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ll=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jm=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new ll(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),Om(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Om(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Je(yi),Je(al),Je(Yu))},e.\u0275dir=li({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Om(t,e){t.context.$implicit=e.item}var et=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({});let t=e;return t})(),Vm="browser",Kb="server";function gl(t){return t===Kb}var $m=(()=>{let e=class e{};e.\u0275prov=w({token:e,providedIn:"root",factory:()=>new dl(I(pe),window)});let t=e;return t})(),dl=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=Qb(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function Qb(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var zo=class{};var yl=class extends Wo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_l=class t extends yl{static makeCurrent(){Pm(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Zb();return n==null?null:Jb(n)}resetBaseElement(){Ei=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Um(document.cookie,e)}},Ei=null;function Zb(){return Ei=Ei||document.querySelector("base"),Ei?Ei.getAttribute("href"):null}function Jb(t){return new URL(t,document.baseURI).pathname}var Xb=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),Il=new T("EventManagerPlugins"),Gm=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(I(Il),I($))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),Go=class{constructor(e){this._doc=e}},ml="ng-app-id",qm=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gl(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ml}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(ml),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ml,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(I(pe),I(Uu),I(Vu,8),I(At))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),vl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},El=/%COMP%/g,Ym="%COMP%",eT=`_nghost-${Ym}`,tT=`_ngcontent-${Ym}`,nT=!0,rT=new T("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>nT});function iT(t){return tT.replace(El,t)}function sT(t){return eT.replace(El,t)}function Km(t,e){return e.map(n=>n.replace(El,t))}var Hm=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=gl(c),this.defaultRenderer=new Ci(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===lt.ShadowDom&&(i=K(y({},i),{encapsulation:lt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof qo?s.applyToHost(r):s instanceof Di&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case lt.Emulated:o=new qo(u,l,i,this.appId,d,a,c,f);break;case lt.ShadowDom:return new wl(u,l,r,i,a,c,this.nonce,f);default:o=new Di(u,l,i,d,a,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(I(Gm),I(qm),I(Uu),I(rT),I(pe),I(At),I($),I(Vu))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),Ci=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vl[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Wm(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Wm(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=vl[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vl[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=yr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Wm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wl=class extends Ci{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Km(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Di=class extends Ci{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Km(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qo=class extends Di{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=iT(u),this.hostAttr=sT(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},oT=(()=>{let e=class e extends Go{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(I(pe))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),zm=["alt","control","meta","shift"],aT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},uT=(()=>{let e=class e extends Go{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),zm.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=aT[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),zm.forEach(a=>{if(a!==s){let c=cT[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(I(pe))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})();function Qm(t,e){return Mm(y({rootComponent:t},lT(e)))}function lT(t){return{appProviders:[...gT,...t?.providers??[]],platformProviders:pT}}function dT(){_l.makeCurrent()}function fT(){return new ht}function hT(){return kg(document),document}var pT=[{provide:At,useValue:Vm},{provide:ju,useValue:dT,multi:!0},{provide:pe,useFactory:hT,deps:[]}];var gT=[{provide:So,useValue:"root"},{provide:ht,useFactory:fT,deps:[]},{provide:Il,useClass:oT,multi:!0,deps:[pe,$,At]},{provide:Il,useClass:uT,multi:!0,deps:[pe]},Hm,qm,Gm,{provide:ai,useExisting:Hm},{provide:zo,useClass:Xb,deps:[]},[]];function mT(){return new Cl(I(pe))}var Cl=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(I(pe))},e.\u0275prov=w({token:e,factory:function(i){let s=null;return i?s=new i:s=mT(),s},providedIn:"root"});let t=e;return t})();var S="primary",Vi=Symbol("RouteTitle"),Al=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Dr(t){return new Al(t)}function yT(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _T(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pt(t[n],e[n]))return!1;return!0}function pt(t,e){let n=t?Ml(t):void 0,r=e?Ml(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sv(t[i],e[i]))return!1;return!0}function Ml(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ov(t){return t.length>0?t[t.length-1]:null}function nn(t){return Ic(t)?t:_i(t)?J(Promise.resolve(t)):D(t)}var IT={exact:cv,subset:uv},av={exact:wT,subset:ET,ignored:()=>!0};function Zm(t,e,n){return IT[n.paths](t.root,e.root,n.matrixParams)&&av[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function wT(t,e){return pt(t,e)}function cv(t,e,n){if(!Sn(t.segments,e.segments)||!Qo(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cv(t.children[r],e.children[r],n))return!1;return!0}function ET(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sv(t[n],e[n]))}function uv(t,e,n){return lv(t,e,e.segments,n)}function lv(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Sn(i,n)||e.hasChildren()||!Qo(i,n,r))}else if(t.segments.length===n.length){if(!Sn(t.segments,n)||!Qo(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uv(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Sn(t.segments,i)||!Qo(t.segments,i,r)||!t.children[S]?!1:lv(t.children[S],e,s,r)}}function Qo(t,e,n){return e.every((r,i)=>av[n](t[i].parameters,r.parameters))}var Jt=class{constructor(e=new V([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return bT.serialize(this)}},V=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zo(this)}},Tn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Dr(this.parameters)),this._parameterMap}toString(){return fv(this)}};function CT(t,e){return Sn(t,e)&&t.every((n,r)=>pt(n.parameters,e[r].parameters))}function Sn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function DT(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===S&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==S&&(n=n.concat(e(i,r)))}),n}var $i=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>new Ri)(),providedIn:"root"});let t=e;return t})(),Ri=class{parse(e){let n=new Rl(e);return new Jt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bi(e.root,!0)}`,r=AT(e.queryParams),i=typeof e.fragment=="string"?`#${TT(e.fragment)}`:"";return`${n}${r}${i}`}},bT=new Ri;function Zo(t){return t.segments.map(e=>fv(e)).join("/")}function bi(t,e){if(!t.hasChildren())return Zo(t);if(e){let n=t.children[S]?bi(t.children[S],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==S&&r.push(`${i}:${bi(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=DT(t,(r,i)=>i===S?[bi(t.children[S],!1)]:[`${i}:${bi(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[S]!=null?`${Zo(t)}/${n[0]}`:`${Zo(t)}/(${n.join("//")})`}}function dv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yo(t){return dv(t).replace(/%3B/gi,";")}function TT(t){return encodeURI(t)}function Nl(t){return dv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jo(t){return decodeURIComponent(t)}function Jm(t){return Jo(t.replace(/\+/g,"%20"))}function fv(t){return`${Nl(t.path)}${ST(t.parameters)}`}function ST(t){return Object.keys(t).map(e=>`;${Nl(e)}=${Nl(t[e])}`).join("")}function AT(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Yo(n)}=${Yo(i)}`).join("&"):`${Yo(n)}=${Yo(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var MT=/^[^\/()?;#]+/;function Dl(t){let e=t.match(MT);return e?e[0]:""}var NT=/^[^\/()?;=#]+/;function RT(t){let e=t.match(NT);return e?e[0]:""}var xT=/^[^=?&#]+/;function OT(t){let e=t.match(xT);return e?e[0]:""}var PT=/^[^&#]+/;function kT(t){let e=t.match(PT);return e?e[0]:""}var Rl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[S]=new V(e,n)),r}parseSegment(){let e=Dl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new Tn(Jo(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=RT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dl(this.remaining);i&&(r=i,this.capture(r))}e[Jo(n)]=Jo(r)}parseQueryParam(e){let n=OT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=kT(this.remaining);o&&(r=o,this.capture(r))}let i=Jm(n),s=Jm(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dl(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=S);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[S]:new V([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function hv(t){return t.segments.length>0?new V([],{[S]:t}):t}function pv(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=pv(i);if(r===S&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new V(t.segments,e);return LT(n)}function LT(t){if(t.numberOfChildren===1&&t.children[S]){let e=t.children[S];return new V(t.segments.concat(e.segments),e.children)}return t}function br(t){return t instanceof Jt}function FT(t,e,n=null,r=null){let i=gv(t);return mv(i,e,n,r)}function gv(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new V(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=hv(r);return e??i}function mv(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bl(i,i,i,n,r);let s=UT(e);if(s.toRoot())return bl(i,i,new V([],{}),n,r);let o=jT(s,i,t),a=o.processChildren?Ai(o.segmentGroup,o.index,s.commands):yv(o.segmentGroup,o.index,s.commands);return bl(i,o.segmentGroup,a,n,r)}function Xo(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xi(t){return typeof t=="object"&&t!=null&&t.outlets}function bl(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=vv(t,e,n);let a=hv(pv(o));return new Jt(a,s,i)}function vv(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=vv(s,e,n)}),new V(t.segments,r)}var ea=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xo(r[0]))throw new E(4003,!1);let i=r.find(xi);if(i&&i!==ov(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UT(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ea(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ea(n,e,r)}var Er=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function jT(t,e,n){if(t.isAbsolute)return new Er(e,!0,0);if(!n)return new Er(e,!1,NaN);if(n.parent===null)return new Er(n,!0,0);let r=Xo(t.commands[0])?0:1,i=n.segments.length-1+r;return VT(n,i,t.numberOfDoubleDots)}function VT(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Er(r,!1,i-s)}function $T(t){return xi(t[0])?t[0].outlets:{[S]:t}}function yv(t,e,n){if(t||(t=new V([],{})),t.segments.length===0&&t.hasChildren())return Ai(t,e,n);let r=BT(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new V(t.segments.slice(0,r.pathIndex),{});return s.children[S]=new V(t.segments.slice(r.pathIndex),t.children),Ai(s,0,i)}else return r.match&&i.length===0?new V(t.segments,{}):r.match&&!t.hasChildren()?xl(t,e,n):r.match?Ai(t,0,i):xl(t,e,n)}function Ai(t,e,n){if(n.length===0)return new V(t.segments,{});{let r=$T(n),i={};if(Object.keys(r).some(s=>s!==S)&&t.children[S]&&t.numberOfChildren===1&&t.children[S].segments.length===0){let s=Ai(t.children[S],e,n);return new V(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=yv(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new V(t.segments,i)}}function BT(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(xi(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ev(c,u,o))return s;r+=2}else{if(!ev(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xl(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(xi(s)){let c=HT(s.outlets);return new V(r,c)}if(i===0&&Xo(n[0])){let c=t.segments[e];r.push(new Tn(c.path,Xm(n[0]))),i++;continue}let o=xi(s)?s.outlets[S]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xo(a)?(r.push(new Tn(o,Xm(a))),i+=2):(r.push(new Tn(o,{})),i++)}return new V(r,{})}function HT(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xl(new V([],{}),0,r))}),e}function Xm(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ev(t,e,n){return t==n.path&&pt(e,n.parameters)}var Mi="imperative",$e=class{constructor(e,n){this.id=e,this.url=n}},Tr=class extends $e{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gt=class extends $e{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=class extends $e{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},en=class extends $e{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Oi=class extends $e{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ta=class extends $e{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ol=class extends $e{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pl=class extends $e{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kl=class extends $e{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ll=class extends $e{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fl=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ul=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jl=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vl=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$l=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bl=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},na=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pi=class{},ki=class{constructor(e){this.url=e}};var Hl=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bi,this.attachRef=null}},Bi=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Hl,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ra=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Wl(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Wl(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zl(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zl(e,this._root).map(n=>n.value)}};function Wl(t,e){if(t===e.value)return e;for(let n of e.children){let r=Wl(t,n);if(r)return r}return null}function zl(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zl(t,n);if(r.length)return r.unshift(e),r}return[]}var Ae=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ia=class extends ra{constructor(e,n){super(e),this.snapshot=n,td(this,e)}toString(){return this.snapshot.toString()}};function _v(t,e){let n=WT(t,e),r=new ce([new Tn("",{})]),i=new ce({}),s=new ce({}),o=new ce({}),a=new ce(""),c=new tn(r,i,o,a,s,S,e,n.root);return c.snapshot=n.root,new ia(new Ae(c,[]),n)}function WT(t,e){let n={},r={},i={},s="",o=new Li([],n,i,s,r,S,e,null,{});return new sa("",new Ae(o,[]))}var tn=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(P(u=>u[Vi]))??D(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(P(e=>Dr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(P(e=>Dr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ed(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),i?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&wv(i)&&(r.resolve[Vi]=i.title),r}var Li=class{get title(){return this.data?.[Vi]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},sa=class extends ra{constructor(e,n){super(n),this.url=e,td(this,n)}toString(){return Iv(this._root)}};function td(t,e){e.value._routerState=t,e.children.forEach(n=>td(t,n))}function Iv(t){let e=t.children.length>0?` { ${t.children.map(Iv).join(", ")} } `:"";return`${t.value}${e}`}function Tl(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pt(e.params,n.params)||t.paramsSubject.next(n.params),_T(e.url,n.url)||t.urlSubject.next(n.url),pt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gl(t,e){let n=pt(t.params,e.params)&&CT(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Gl(t.parent,e.parent))}function wv(t){return typeof t.title=="string"||t.title===null}var nd=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=S,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=v(Bi),this.location=v(yi),this.changeDetector=v(Lo),this.environmentInjector=v(Te),this.inputBinder=v(ua,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new ql(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=li({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hi]});let t=e;return t})(),ql=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===tn?this.route:e===Bi?this.childContexts:this.parent.get(e,n)}},ua=new T(""),tv=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Kr([i.queryParams,i.params,i.data]).pipe(Re(([o,a,c],u)=>(c=y(y(y({},o),a),c),u===0?D(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Nm(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})();function zT(t,e,n){let r=Fi(t,e._root,n?n._root:void 0);return new ia(r,e)}function Fi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=GT(t,e,n);return new Ae(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fi(t,a)),o}}let r=qT(e.value),i=e.children.map(s=>Fi(t,s));return new Ae(r,i)}}function GT(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fi(t,r,i);return Fi(t,r)})}function qT(t){return new tn(new ce(t.url),new ce(t.params),new ce(t.queryParams),new ce(t.fragment),new ce(t.data),t.outlet,t.component,t)}var Ev="ngNavigationCancelingError";function Cv(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=br(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Dv(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Dv(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Ev]=!0,r.cancellationCode=e,n&&(r.url=n),r}function YT(t){return bv(t)&&br(t.url)}function bv(t){return t&&t[Ev]}var KT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ve],decls:1,vars:0,template:function(i,s){i&1&&bn(0,"router-outlet")},dependencies:[nd],encapsulation:2});let t=e;return t})();function QT(t,e){return t.providers&&!t._injector&&(t._injector=Uo(t.providers,e,`Route: ${t.path}`)),t._injector??e}function rd(t){let e=t.children&&t.children.map(rd),n=e?K(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==S&&(n.component=KT),n}function mt(t){return t.outlet||S}function ZT(t,e){let n=t.filter(r=>mt(r)===e);return n.push(...t.filter(r=>mt(r)!==e)),n}function Hi(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var JT=(t,e,n,r)=>P(i=>(new Yl(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Yl=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tl(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wr(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=wr(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=wr(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wr(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Bl(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Vl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Tl(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Tl(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Hi(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},oa=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cr=class{constructor(e,n){this.component=e,this.route=n}};function XT(t,e,n){let r=t._root,i=e?e._root:null;return Ti(r,i,n,[r.value])}function eS(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ar(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!xp(t)?t:e.get(t):r}function Ti(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=wr(e);return t.children.forEach(o=>{tS(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ni(a,n.getContext(o),i)),i}function tS(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=nS(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new oa(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ti(t,e,a?a.children:null,r,i):Ti(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cr(a.outlet.component,o))}else o&&Ni(e,a,i),i.canActivateChecks.push(new oa(r)),s.component?Ti(t,null,a?a.children:null,r,i):Ti(t,null,n,r,i);return i}function nS(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Sn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sn(t.url,e.url)||!pt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gl(t,e)||!pt(t.queryParams,e.queryParams);case"paramsChange":default:return!Gl(t,e)}}function Ni(t,e,n){let r=wr(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ni(o,e.children.getContext(s),n):Ni(o,null,n):Ni(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Cr(e.outlet.component,i)):n.canDeactivateChecks.push(new Cr(null,i)):n.canDeactivateChecks.push(new Cr(null,i))}function Wi(t){return typeof t=="function"}function rS(t){return typeof t=="boolean"}function iS(t){return t&&Wi(t.canLoad)}function sS(t){return t&&Wi(t.canActivate)}function oS(t){return t&&Wi(t.canActivateChild)}function aS(t){return t&&Wi(t.canDeactivate)}function cS(t){return t&&Wi(t.canMatch)}function Tv(t){return t instanceof wt||t?.name==="EmptyError"}var Ko=Symbol("INITIAL_VALUE");function Sr(){return Re(t=>Kr(t.map(e=>e.pipe(Et(1),Dc(Ko)))).pipe(P(e=>{for(let n of e)if(n!==!0){if(n===Ko)return Ko;if(n===!1||n instanceof Jt)return n}return!0}),Ne(e=>e!==Ko),Et(1)))}function uS(t,e){return ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?D(K(y({},n),{guardsResult:!0})):lS(o,r,i,t).pipe(ee(a=>a&&rS(a)?dS(r,s,t,e):D(a)),P(a=>K(y({},n),{guardsResult:a})))})}function lS(t,e,n,r){return J(t).pipe(ee(i=>mS(i.component,i.route,n,e,r)),ot(i=>i!==!0,!0))}function dS(t,e,n,r){return J(e).pipe(gn(i=>sr(hS(i.route.parent,r),fS(i.route,r),gS(t,i.path,n),pS(t,i.route,n))),ot(i=>i!==!0,!0))}function fS(t,e){return t!==null&&e&&e(new $l(t)),D(!0)}function hS(t,e){return t!==null&&e&&e(new jl(t)),D(!0)}function pS(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return D(!0);let i=r.map(s=>zs(()=>{let o=Hi(e)??n,a=Ar(s,o),c=sS(a)?a.canActivate(e,t):Qt(o,()=>a(e,t));return nn(c).pipe(ot())}));return D(i).pipe(Sr())}function gS(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>eS(o)).filter(o=>o!==null).map(o=>zs(()=>{let a=o.guards.map(c=>{let u=Hi(o.node)??n,l=Ar(c,u),d=oS(l)?l.canActivateChild(r,t):Qt(u,()=>l(r,t));return nn(d).pipe(ot())});return D(a).pipe(Sr())}));return D(s).pipe(Sr())}function mS(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return D(!0);let o=s.map(a=>{let c=Hi(e)??i,u=Ar(a,c),l=aS(u)?u.canDeactivate(t,e,n,r):Qt(c,()=>u(t,e,n,r));return nn(l).pipe(ot())});return D(o).pipe(Sr())}function vS(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return D(!0);let s=i.map(o=>{let a=Ar(o,t),c=iS(a)?a.canLoad(e,n):Qt(t,()=>a(e,n));return nn(c)});return D(s).pipe(Sr(),Sv(r))}function Sv(t){return fc(te(e=>{if(br(e))throw Cv(t,e)}),P(e=>e===!0))}function yS(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return D(!0);let s=i.map(o=>{let a=Ar(o,t),c=cS(a)?a.canMatch(e,n):Qt(t,()=>a(e,n));return nn(c)});return D(s).pipe(Sr(),Sv(r))}var Ui=class{constructor(e){this.segmentGroup=e||null}},aa=class extends Error{constructor(e){super(),this.urlTree=e}};function Ir(t){return rr(new Ui(t))}function _S(t){return rr(new E(4e3,!1))}function IS(t){return rr(Dv(!1,3))}var Kl=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return D(r);if(i.numberOfChildren>1||!i.children[S])return _S(e.redirectTo);i=i.children[S]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new aa(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Jt(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new V(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ql={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wS(t,e,n,r,i){let s=id(t,e,n);return s.matched?(r=QT(e,r),yS(r,e,n,i).pipe(P(o=>o===!0?s:y({},Ql)))):D(s)}function id(t,e,n){if(e.path==="**")return ES(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},Ql):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||yT)(n,t,e);if(!i)return y({},Ql);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?y(y({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ES(t){return{matched:!0,parameters:t.length>0?ov(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function nv(t,e,n,r){return n.length>0&&bS(t,n,r)?{segmentGroup:new V(e,DS(r,new V(n,t.children))),slicedSegments:[]}:n.length===0&&TS(t,n,r)?{segmentGroup:new V(t.segments,CS(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new V(t.segments,t.children),slicedSegments:n}}function CS(t,e,n,r,i){let s={};for(let o of r)if(la(t,n,o)&&!i[mt(o)]){let a=new V([],{});s[mt(o)]=a}return y(y({},i),s)}function DS(t,e){let n={};n[S]=e;for(let r of t)if(r.path===""&&mt(r)!==S){let i=new V([],{});n[mt(r)]=i}return n}function bS(t,e,n){return n.some(r=>la(t,e,r)&&mt(r)!==S)}function TS(t,e,n){return n.some(r=>la(t,e,r))}function la(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function SS(t,e,n,r){return mt(t)!==r&&(r===S||!la(e,n,t))?!1:id(e,t,n).matched}function AS(t,e,n){return e.length===0&&!t.children[n]}var Zl=class{};function MS(t,e,n,r,i,s,o="emptyOnly"){return new Jl(t,e,n,r,i,o,s).recognize()}var NS=31,Jl=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Kl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=nv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(P(n=>{let r=new Li([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,{},S,this.rootComponentType,null,{}),i=new Ae(r,n),s=new sa("",i),o=FT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,S).pipe(jt(r=>{if(r instanceof aa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ui?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ed(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(P(s=>s instanceof Ae?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return J(i).pipe(gn(s=>{let o=r.children[s],a=ZT(n,s);return this.processSegmentGroup(e,a,o,s)}),Cc((s,o)=>(s.push(...o),s)),Vt(null),Ec(),ee(s=>{if(s===null)return Ir(r);let o=Av(s);return RS(o),D(o)}))}processSegment(e,n,r,i,s,o){return J(n).pipe(gn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(jt(c=>{if(c instanceof Ui)return D(null);throw c}))),ot(a=>!!a),jt(a=>{if(Tv(a))return AS(r,i,s)?D(new Zl):Ir(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return SS(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ir(i):Ir(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=id(n,i,s);if(!a)return Ir(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NS&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(ee(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=wS(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Re(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Re(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,h=new Li(l,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,OS(r),mt(r),r.component??r._loadedComponent??null,r,PS(r)),{segmentGroup:p,slicedSegments:_}=nv(n,l,d,c);if(_.length===0&&p.hasChildren())return this.processChildren(u,c,p).pipe(P(F=>F===null?null:new Ae(h,F)));if(c.length===0&&_.length===0)return D(new Ae(h,[]));let R=mt(r)===s;return this.processSegment(u,c,p,_,R?S:s,!0).pipe(P(F=>new Ae(h,F instanceof Ae?[F]:[])))}))):Ir(n)))}getChildConfig(e,n,r){return n.children?D({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?D({routes:n._loadedRoutes,injector:n._loadedInjector}):vS(e,n,r,this.urlSerializer).pipe(ee(i=>i?this.configLoader.loadChildren(e,n).pipe(te(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):IS(n))):D({routes:[],injector:e})}};function RS(t){t.sort((e,n)=>e.value.outlet===S?-1:n.value.outlet===S?1:e.value.outlet.localeCompare(n.value.outlet))}function xS(t){let e=t.value.routeConfig;return e&&e.path===""}function Av(t){let e=[],n=new Set;for(let r of t){if(!xS(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Av(r.children);e.push(new Ae(r.value,i))}return e.filter(r=>!n.has(r))}function OS(t){return t.data||{}}function PS(t){return t.resolve||{}}function kS(t,e,n,r,i,s){return ee(o=>MS(t,e,n,r,o.extractedUrl,i,s).pipe(P(({state:a,tree:c})=>K(y({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function LS(t,e){return ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return D(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Mv(c))o.add(u);let a=0;return J(o).pipe(gn(c=>s.has(c)?FS(c,r,t,e):(c.data=ed(c,c.parent,t).resolve,D(void 0))),te(()=>a++),or(1),ee(c=>a===o.size?D(n):Me))})}function Mv(t){let e=t.children.map(n=>Mv(n)).flat();return[t,...e]}function FS(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!wv(i)&&(s[Vi]=i.title),US(s,t,e,r).pipe(P(o=>(t._resolvedData=o,t.data=ed(t,t.parent,n).resolve,null)))}function US(t,e,n,r){let i=Ml(t);if(i.length===0)return D({});let s={};return J(i).pipe(ee(o=>jS(t[o],e,n,r).pipe(ot(),te(a=>{s[o]=a}))),or(1),wc(s),jt(o=>Tv(o)?Me:rr(o)))}function jS(t,e,n,r){let i=Hi(e)??r,s=Ar(t,i),o=s.resolve?s.resolve(e,n):Qt(i,()=>s(e,n));return nn(o)}function Sl(t){return Re(e=>{let n=t(e);return n?J(n).pipe(P(()=>e)):D(e)})}var Nv=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===S);return i}getResolvedTitleForRoute(r){return r.data[Vi]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>v(VS))(),providedIn:"root"});let t=e;return t})(),VS=(()=>{let e=class e extends Nv{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(I(Cl))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zi=new T("",{providedIn:"root",factory:()=>({})}),ji=new T("ROUTES"),sd=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(Vo)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return D(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=nn(r.loadComponent()).pipe(P(Rv),te(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Qr(()=>{this.componentLoaders.delete(r)})),s=new Xn(i,()=>new ge).pipe(Jn());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return D({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=$S(i,this.compiler,r,this.onLoadEndListener).pipe(Qr(()=>{this.childrenLoaders.delete(i)})),a=new Xn(o,()=>new ge).pipe(Jn());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $S(t,e,n,r){return nn(t.loadChildren()).pipe(P(Rv),ee(i=>i instanceof ci||Array.isArray(i)?D(i):J(e.compileModuleAsync(i))),P(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ji,[],{optional:!0,self:!0}).flat()),{routes:o.map(rd),injector:s}}))}function BS(t){return t&&typeof t=="object"&&"default"in t}function Rv(t){return BS(t)?t.default:t}var od=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>v(HS))(),providedIn:"root"});let t=e;return t})(),HS=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xv=new T(""),Ov=new T("");function WS(t,e,n){let r=t.get(Ov),i=t.get(pe);return t.get($).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),zS(t))),{onViewTransitionCreated:c}=r;return c&&Qt(t,()=>c({transition:a,from:e,to:n})),o})}function zS(t){return new Promise(e=>{el(e,{injector:t})})}var ad=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=v(sd),this.environmentInjector=v(Te),this.urlSerializer=v($i),this.rootContexts=v(Bi),this.location=v(_r),this.inputBindingEnabled=v(ua,{optional:!0})!==null,this.titleStrategy=v(Nv),this.options=v(zi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(od),this.createViewTransition=v(xv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>D(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Fl(s)),i=s=>this.events.next(new Ul(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(K(y(y({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ce({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mi,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),P(o=>K(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Re(o=>{this.currentTransition=o;let a=!1,c=!1;return D(o).pipe(te(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?K(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Re(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new en(u.id,this.urlSerializer.serialize(u.rawUrl),f,0)),u.resolve(null),Me}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return D(u).pipe(Re(f=>{let h=this.transitions?.getValue();return this.events.next(new Tr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Me:Promise.resolve(f)}),kS(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),te(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=K(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new ta(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:_,extras:R}=u,F=new Tr(f,this.urlSerializer.serialize(h),p,_);this.events.next(F);let Q=_v(h,this.rootComponentType).snapshot;return this.currentTransition=o=K(y({},u),{targetSnapshot:Q,urlAfterRedirects:h,extras:K(y({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,D(o)}else{let f="";return this.events.next(new en(u.id,this.urlSerializer.serialize(u.extractedUrl),f,1)),u.resolve(null),Me}}),te(u=>{let l=new Ol(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),P(u=>(this.currentTransition=o=K(y({},u),{guards:XT(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),uS(this.environmentInjector,u=>this.events.next(u)),te(u=>{if(o.guardsResult=u.guardsResult,br(u.guardsResult))throw Cv(this.urlSerializer,u.guardsResult);let l=new Pl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ne(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),Sl(u=>{if(u.guards.canActivateChecks.length)return D(u).pipe(te(l=>{let d=new kl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Re(l=>{let d=!1;return D(l).pipe(LS(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),te(l=>{let d=new Ll(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Sl(u=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(te(h=>{d.component=h}),P(()=>{})));for(let h of d.children)f.push(...l(h));return f};return Kr(l(u.targetSnapshot.root)).pipe(Vt(null),Et(1))}),Sl(()=>this.afterPreactivation()),Re(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?J(d).pipe(P(()=>o)):D(o)}),P(u=>{let l=zT(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=K(y({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),te(()=>{this.events.next(new Pi)}),JT(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Et(1),te({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),bc(this.transitionAbortSubject.pipe(te(u=>{throw u}))),Qr(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),jt(u=>{if(c=!0,bv(u))this.events.next(new Xt(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),YT(u)?this.events.next(new ki(u.url)):o.resolve(!1);else{this.events.next(new Oi(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return Me}))}))}cancelNavigationTransition(r,i,s){let o=new Xt(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GS(t){return t!==Mi}var qS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>v(YS))(),providedIn:"root"});let t=e;return t})(),Xl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},YS=(()=>{let e=class e extends Xl{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=xu(e)))(s||e)}})(),e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:()=>(()=>v(KS))(),providedIn:"root"});let t=e;return t})(),KS=(()=>{let e=class e extends Pv{constructor(){super(...arguments),this.location=v(_r),this.urlSerializer=v($i),this.options=v(zi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(od),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_v(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Tr)this.stateMemento=this.createStateMemento();else if(r instanceof en)this.rawUrlTree=i.initialUrl;else if(r instanceof ta){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Pi?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Xt&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Oi?this.restoreHistory(i,!0):r instanceof gt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=xu(e)))(s||e)}})(),e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Si=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Si||{});function kv(t,e){t.events.pipe(Ne(n=>n instanceof gt||n instanceof Xt||n instanceof Oi||n instanceof en),P(n=>n instanceof gt||n instanceof en?Si.COMPLETE:(n instanceof Xt?n.code===0||n.code===1:!1)?Si.REDIRECTING:Si.FAILED),Ne(n=>n!==Si.REDIRECTING),Et(1)).subscribe(()=>{e()})}function QS(t){throw t}var ZS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(jo),this.stateManager=v(Pv),this.options=v(zi,{optional:!0})||{},this.pendingTasks=v($o),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(ad),this.urlSerializer=v($i),this.location=v(_r),this.urlHandlingStrategy=v(od),this._events=new ge,this.errorHandler=this.options.errorHandler||QS,this.navigated=!1,this.routeReuseStrategy=v(qS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(ji,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(ua,{optional:!0}),this.eventsSubscription=new Z,this.isNgZoneEnabled=v($)instanceof $&&$.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Xt&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof gt)this.navigated=!0;else if(i instanceof ki){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||GS(s.source)};this.scheduleNavigation(a,Mi,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}e0(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=y({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(rd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=s?s.snapshot:this.routerState.snapshot.root;f=gv(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return mv(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=br(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Mi,null,i)}navigate(r,i={skipLocationChange:!1}){return XS(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=y({},ZS):i===!1?s=y({},JS):s=i,br(r))return Zm(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Zm(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});let d=this.pendingTasks.add();return kv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XS(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new E(4008,!1)}function e0(t){return!(t instanceof Pi)&&!(t instanceof ki)}var da=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:Qg(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Je(Rt),Je(tn),Ou("tabindex"),Je(xo),Je(mi),Je(Nt))},e.\u0275dir=li({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ol("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&il("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",wi],skipLocationChange:["skipLocationChange","skipLocationChange",wi],replaceUrl:["replaceUrl","replaceUrl",wi],routerLink:"routerLink"},standalone:!0,features:[nl,hi]});let t=e;return t})();var ca=class{};var t0=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(r=>r instanceof gt),gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Uo(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return J(s).pipe(ir())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=D(null);let o=s.pipe(ee(a=>a===null?D(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return J([o,a]).pipe(ir())}else return o})}};e.\u0275fac=function(i){return new(i||e)(I(Rt),I(Vo),I(Te),I(ca),I(sd))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lv=new T(""),n0=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof gt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof en&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof na&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new na(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){rm()},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})();function Fv(t,...e){return bo([{provide:ji,multi:!0,useValue:t},[],{provide:tn,useFactory:Uv,deps:[Rt]},{provide:Ho,multi:!0,useFactory:jv},e.map(n=>n.\u0275providers)])}function Uv(t){return t.routerState.root}function Gi(t,e){return{\u0275kind:t,\u0275providers:e}}function jv(){let t=v(Se);return e=>{let n=t.get(Ii);if(e!==n.components[0])return;let r=t.get(Rt),i=t.get(Vv);t.get(cd)===1&&r.initialNavigation(),t.get($v,null,A.Optional)?.setUpPreloading(),t.get(Lv,null,A.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Vv=new T("",{factory:()=>new ge}),cd=new T("",{providedIn:"root",factory:()=>1});function r0(){return Gi(2,[{provide:cd,useValue:0},{provide:Bo,multi:!0,deps:[Se],useFactory:e=>{let n=e.get(km,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Rt),s=e.get(Vv);kv(i,()=>{r(!0)}),e.get(ad).afterPreactivation=()=>(r(!0),s.closed?D(void 0):s),i.initialNavigation()}))}}])}function i0(){return Gi(3,[{provide:Bo,multi:!0,useFactory:()=>{let e=v(Rt);return()=>{e.setUpLocationChangeListener()}}},{provide:cd,useValue:2}])}var $v=new T("");function s0(t){return Gi(0,[{provide:$v,useExisting:t0},{provide:ca,useExisting:t}])}function o0(){return Gi(8,[tv,{provide:ua,useExisting:tv}])}function a0(t){let e=[{provide:xv,useValue:WS},{provide:Ov,useValue:y({skipNextTransition:!!t?.skipInitialTransition},t)}];return Gi(9,e)}var rv=new T("ROUTER_FORROOT_GUARD"),c0=[_r,{provide:$i,useClass:Ri},Rt,Bi,{provide:tn,useFactory:Uv,deps:[Rt]},sd,[]],fa=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[c0,[],{provide:ji,multi:!0,useValue:r},{provide:rv,useFactory:f0,deps:[[Rt,new Ue,new ku]]},{provide:zi,useValue:i||{}},i?.useHash?l0():d0(),u0(),i?.preloadingStrategy?s0(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?h0(i):[],i?.bindToComponentInputs?o0().\u0275providers:[],i?.enableViewTransitions?a0().\u0275providers:[],p0()]}}static forChild(r){return{ngModule:e,providers:[{provide:ji,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(I(rv,8))},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({});let t=e;return t})();function u0(){return{provide:Lv,useFactory:()=>{let t=v($m),e=v($),n=v(zi),r=v(ad),i=v($i);return n.scrollOffset&&t.setOffset(n.scrollOffset),new n0(i,r,t,e,n)}}}function l0(){return{provide:Nt,useClass:Fm}}function d0(){return{provide:Nt,useClass:pl}}function f0(t){return"guarded"}function h0(t){return[t.initialNavigation==="disabled"?i0().\u0275providers:[],t.initialNavigation==="enabledBlocking"?r0().\u0275providers:[]]}var iv=new T("");function p0(){return[{provide:iv,useFactory:jv},{provide:Ho,multi:!0,useExisting:iv}]}var ud=function(t){return t[t.CLOSED_YESTERDAY=0]="CLOSED_YESTERDAY",t[t.CLOSED_TODAY=1]="CLOSED_TODAY",t[t.IN_PROGRESS=2]="IN_PROGRESS",t[t.NOT_STARTED=3]="NOT_STARTED",t}(ud||{});var ha=class{constructor(e,n){this.type=e,this.jiraIssues=n,console.log(this.type,this.jiraIssues),this.uuid=this.generateUUID()}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=Math.random()*16|0,r=e=="x"?n:n&3|8;return r.toString(16)})}};var dd={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var g=function(t,e){if(!t)throw An(e)},An=function(t){return new Error("Firebase Database ("+dd.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var Wv=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},g0=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ga={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,h=u&63;c||(h=64,o||(f=64)),r.push(n[l],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new fd;let f=s<<2|a>>4;if(r.push(f),u!==64){let h=a<<4&240|u>>2;if(r.push(h),d!==64){let p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fd=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pd=function(t){let e=Wv(t);return ga.encodeByteArray(e,!0)},qi=function(t){return pd(t).replace(/\./g,"")},Yi=function(t){try{return ga.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zv(t){return Gv(void 0,t)}function Gv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!m0(n)||(t[n]=Gv(t[n],e[n]));return t}function m0(t){return t!=="__proto__"}function v0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var y0=()=>v0().__FIREBASE_DEFAULTS__,_0=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Yi(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return y0()||_0()||I0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qv=t=>{var e,n;return(n=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yv=t=>{let e=qv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},md=()=>{var t;return(t=gd())===null||t===void 0?void 0:t.config},Kv=t=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${t}`]};var rn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qi(JSON.stringify(n)),qi(JSON.stringify(o)),a].join(".")}function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ki(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Zv(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ma(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yt(){return dd.NODE_CLIENT===!0||dd.NODE_ADMIN===!0}function Jv(){try{return typeof indexedDB=="object"}catch{return!1}}function Xv(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var w0="FirebaseError",vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w0,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}},xt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E0(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vt(i,a,r)}};function E0(t,e){return t.replace(C0,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var C0=/\{\$([^}]+)}/g;function Mr(t){return JSON.parse(t)}function se(t){return JSON.stringify(t)}var ey=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Mr(Yi(s[0])||""),n=Mr(Yi(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var ty=function(t){let e=ey(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ny=function(t){let e=ey(t).claims;return typeof e=="object"&&e.admin===!0};function _t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Mn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function va(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Zi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Hv(s)&&Hv(o)){if(!Zi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Hv(t){return t!==null&&typeof t=="object"}function Ji(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var pa=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,l;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),l=1518500249):(u=s^o^a,l=1859775393):d<60?(u=s&o|a&(s|o),l=2400959708):(u=s^o^a,l=3395469782);let f=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function ry(t,e){let n=new hd(t,e);return n.subscribe.bind(n)}var hd=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D0(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ld),i.error===void 0&&(i.error=ld),i.complete===void 0&&(i.complete=ld);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function D0(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ld(){}function ya(t,e){return`${t} failed: ${e} argument `}var iy=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,g(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xi=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var mj=4*60*60*1e3;function nt(t){return t&&t._delegate?t._delegate:t}var Be=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Nn="[DEFAULT]";var _a=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T0(e))try{this.getOrInitializeService({instanceIdentifier:Nn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Nn){return this.instances.has(e)}getOptions(e=Nn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nn){return this.component?this.component.multipleInstances?e:Nn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function b0(t){return t===Nn?void 0:t}function T0(t){return t.instantiationMode==="EAGER"}var es=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new _a(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var S0=[],B=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(B||{}),A0={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},M0=B.INFO,N0={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},R0=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=N0[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},sn=class{constructor(e){this.name=e,this._logLevel=M0,this._logHandler=R0,this._userLogHandler=null,S0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in B))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...e),this._logHandler(this,B.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...e),this._logHandler(this,B.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,B.INFO,...e),this._logHandler(this,B.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,B.WARN,...e),this._logHandler(this,B.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...e),this._logHandler(this,B.ERROR,...e)}};var x0=(t,e)=>e.some(n=>t instanceof n),sy,oy;function O0(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P0(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ay=new WeakMap,yd=new WeakMap,cy=new WeakMap,vd=new WeakMap,Id=new WeakMap;function k0(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(It(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ay.set(n,t)}).catch(()=>{}),Id.set(e,t),e}function L0(t){if(yd.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yd.set(t,e)}var _d={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return It(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uy(t){_d=t(_d)}function F0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ia(this),e,...n);return cy.set(r,e.sort?e.sort():[e]),It(r)}:P0().includes(t)?function(...e){return t.apply(Ia(this),e),It(ay.get(this))}:function(...e){return It(t.apply(Ia(this),e))}}function U0(t){return typeof t=="function"?F0(t):(t instanceof IDBTransaction&&L0(t),x0(t,O0())?new Proxy(t,_d):t)}function It(t){if(t instanceof IDBRequest)return k0(t);if(vd.has(t))return vd.get(t);let e=U0(t);return e!==t&&(vd.set(t,e),Id.set(e,t)),e}var Ia=t=>Id.get(t);function dy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=It(o);return r&&o.addEventListener("upgradeneeded",c=>{r(It(o.result),c.oldVersion,c.newVersion,It(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var j0=["get","getKey","getAll","getAllKeys","count"],V0=["put","add","delete","clear"],wd=new Map;function ly(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=V0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j0.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return wd.set(e,s),s}uy(t=>K(y({},t),{get:(e,n,r)=>ly(e,n)||t.get(e,n,r),has:(e,n)=>!!ly(e,n)||t.has(e,n)}));var Cd=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($0(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $0(t){let e=t.getComponent();return e?.type==="VERSION"}var Dd="@firebase/app",fy="0.9.25";var Rn=new sn("@firebase/app"),B0="@firebase/app-compat",H0="@firebase/analytics-compat",W0="@firebase/analytics",z0="@firebase/app-check-compat",G0="@firebase/app-check",q0="@firebase/auth",Y0="@firebase/auth-compat",K0="@firebase/database",Q0="@firebase/database-compat",Z0="@firebase/functions",J0="@firebase/functions-compat",X0="@firebase/installations",eA="@firebase/installations-compat",tA="@firebase/messaging",nA="@firebase/messaging-compat",rA="@firebase/performance",iA="@firebase/performance-compat",sA="@firebase/remote-config",oA="@firebase/remote-config-compat",aA="@firebase/storage",cA="@firebase/storage-compat",uA="@firebase/firestore",lA="@firebase/firestore-compat",dA="firebase",fA="10.7.1";var bd="[DEFAULT]",hA={[Dd]:"fire-core",[B0]:"fire-core-compat",[W0]:"fire-analytics",[H0]:"fire-analytics-compat",[G0]:"fire-app-check",[z0]:"fire-app-check-compat",[q0]:"fire-auth",[Y0]:"fire-auth-compat",[K0]:"fire-rtdb",[Q0]:"fire-rtdb-compat",[Z0]:"fire-fn",[J0]:"fire-fn-compat",[X0]:"fire-iid",[eA]:"fire-iid-compat",[tA]:"fire-fcm",[nA]:"fire-fcm-compat",[rA]:"fire-perf",[iA]:"fire-perf-compat",[sA]:"fire-rc",[oA]:"fire-rc-compat",[aA]:"fire-gcs",[cA]:"fire-gcs-compat",[uA]:"fire-fst",[lA]:"fire-fst-compat","fire-js":"fire-js",[dA]:"fire-js-all"};var ts=new Map,Td=new Map;function pA(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function an(t){let e=t.name;if(Td.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;Td.set(e,t);for(let n of ts.values())pA(n,t);return!0}function Nd(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var gA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},on=new xt("app","Firebase",gA);var Sd=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}};var Nr=fA;function Rd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw on.create("bad-app-name",{appName:String(i)});if(n||(n=md()),!n)throw on.create("no-options");let s=ts.get(i);if(s){if(Zi(n,s.options)&&Zi(r,s.config))return s;throw on.create("duplicate-app",{appName:i})}let o=new es(i);for(let c of Td.values())o.addComponent(c);let a=new Sd(n,r,o);return ts.set(i,a),a}function rs(t=bd){let e=ts.get(t);if(!e&&t===bd&&md())return Rd();if(!e)throw on.create("no-app",{appName:t});return e}function wa(){return Array.from(ts.values())}function oe(t,e,n){var r;let i=(r=hA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(a.join(" "));return}an(new Be(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mA="firebase-heartbeat-database",vA=1,ns="firebase-heartbeat-store",Ed=null;function my(){return Ed||(Ed=dy(mA,vA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ns)}}}).catch(t=>{throw on.create("idb-open",{originalErrorMessage:t.message})})),Ed}function yA(t){return m(this,null,function*(){try{return yield(yield my()).transaction(ns).objectStore(ns).get(vy(t))}catch(e){if(e instanceof vt)Rn.warn(e.message);else{let n=on.create("idb-get",{originalErrorMessage:e?.message});Rn.warn(n.message)}}})}function hy(t,e){return m(this,null,function*(){try{let r=(yield my()).transaction(ns,"readwrite");yield r.objectStore(ns).put(e,vy(t)),yield r.done}catch(n){if(n instanceof vt)Rn.warn(n.message);else{let r=on.create("idb-set",{originalErrorMessage:n?.message});Rn.warn(r.message)}}})}function vy(t){return`${t.name}!${t.options.appId}`}var _A=1024,IA=30*24*60*60*1e3,Ad=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Md(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=py();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=IA}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=py(),{heartbeatsToSend:r,unsentEntries:i}=wA(this._heartbeatsCache.heartbeats),s=qi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function py(){return new Date().toISOString().substring(0,10)}function wA(t,e=_A){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Md=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Jv()?Xv().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function gy(t){return qi(JSON.stringify({version:2,heartbeats:t})).length}function EA(t){an(new Be("platform-logger",e=>new Cd(e),"PRIVATE")),an(new Be("heartbeat",e=>new Ad(e),"PRIVATE")),oe(Dd,fy,t),oe(Dd,fy,"esm2017"),oe("fire-js","")}EA("");var CA="firebase",DA="10.7.1";oe(CA,DA,"app");var xr=new qt("ANGULARFIRE2_VERSION");function Od(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ss=(t,e)=>{let n=e?[e]:wa(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},is=class{constructor(){return ss(bA)}},bA="app-check";function Rr(){}var Ea=class{zone;delegate;constructor(e,n=yc){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},xd=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rr,{},Rr,Rr)),n.pipe(te({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},os=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ea(Zone.current)),this.insideAngular=n.run(()=>new Ea(Zone.current,vc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(I($))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ca(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function TA(t){return Ca().ngZone.runOutsideAngular(()=>t())}function xn(t){return Ca().ngZone.run(()=>t())}function SA(t){return AA(Ca())(t)}function AA(t){return function(n){return n=n.lift(new xd(t.ngZone)),n.pipe(Ut(t.outsideAngular),Ft(t.insideAngular))}}var MA=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xn(()=>t.apply(void 0,r))},On=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=xn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rr,{},Rr,Rr))),r[s]=MA(r[s],n));let i=TA(()=>t.apply(this,r));if(!e)if(i instanceof U){let s=Ca();return i.pipe(Ut(s.outsideAngular),Ft(s.insideAngular))}else return xn(()=>i);return i instanceof U?i.pipe(SA):i instanceof Promise?xn(()=>new Promise((s,o)=>i.then(a=>xn(()=>s(a)),a=>xn(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:xn(()=>i)};var Pn=class{constructor(e){return e}},as=class{constructor(){return wa()}};function NA(t){return t&&t.length===1?t[0]:new Pn(rs())}var Pd=new T("angularfire2._apps"),RA={provide:Pn,useFactory:NA,deps:[[new Ue,Pd]]},xA={provide:as,deps:[[new Ue,Pd]]};function OA(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pn(r)}}var PA=(()=>{class t{constructor(n){oe("angularfire",xr.full,"core"),oe("angularfire",xr.full,"app"),oe("angular",bm.full,n.toString())}static \u0275fac=function(r){return new(r||t)(I(At))};static \u0275mod=Tt({type:t});static \u0275inj=bt({providers:[RA,xA]})}return t})();function yy(t,...e){return{ngModule:PA,providers:[{provide:Pd,useFactory:OA(t),multi:!0,deps:[$,Se,os,...e]}]}}var _y=On(Rd,!0);function Ty(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Sy=Ty,Ay=new xt("auth","Firebase",Ty());var Ta=new sn("@firebase/auth");function kA(t,...e){Ta.logLevel<=B.WARN&&Ta.warn(`Auth (${Nr}): ${t}`,...e)}function ba(t,...e){Ta.logLevel<=B.ERROR&&Ta.error(`Auth (${Nr}): ${t}`,...e)}function Iy(t,...e){throw zd(t,...e)}function My(t,...e){return zd(t,...e)}function LA(t,e,n){let r=Object.assign(Object.assign({},Sy()),{[e]:n});return new xt("auth","Firebase",r).create(e,{appName:t.name})}function zd(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ay.create(t,...e)}function H(t,e,...n){if(!t)throw zd(e,...n)}function cs(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ba(e),new Error(e)}function Sa(t,e){t||cs(e)}function FA(){return wy()==="http:"||wy()==="https:"}function wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function UA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FA()||Zv()||"connection"in navigator)?navigator.onLine:!0}function jA(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ln=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sa(n>e,"Short delay should be less than long delay!"),this.isMobile=Ki()||ma()}get(){return UA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function VA(t,e){Sa(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Aa=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BA=new Ln(3e4,6e4);function Ny(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ka(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return Ry(t,i,()=>m(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Ji(Object.assign({key:t.config.apiKey},l)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),Aa.fetch()(xy(t,t.config.apiHost,n,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function Ry(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},$A),e);try{let i=new Fd(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Da(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Da(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Da(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Da(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LA(t,l,u);Iy(t,l)}}catch(i){if(i instanceof vt)throw i;Iy(t,"network-request-failed",{message:String(i)})}})}function xy(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?VA(t.config,i):`${t.config.apiScheme}://${i}`}var Fd=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(My(this.auth,"network-request-failed")),BA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Da(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=My(t,e,r);return i.customData._tokenResponse=n,i}function HA(t,e){return m(this,null,function*(){return ka(t,"POST","/v1/accounts:delete",e)})}function WA(t,e){return m(this,null,function*(){return ka(t,"POST","/v1/accounts:lookup",e)})}function us(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Gd(t,e=!1){return m(this,null,function*(){let n=nt(t),r=yield n.getIdToken(e),i=Oy(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:us(kd(i.auth_time)),issuedAtTime:us(kd(i.iat)),expirationTime:us(kd(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function kd(t){return Number(t)*1e3}function Oy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ba("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yi(n);return i?JSON.parse(i):(ba("Failed to decode base64 JWT payload"),null)}catch(i){return ba("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zA(t){let e=Oy(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ud(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof vt&&GA(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function GA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var jd=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ma=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=us(this.lastLoginAt),this.creationTime=us(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Na(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ud(t,WA(n,{idToken:r}));H(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YA(s.providerUserInfo):[],a=qA(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ma(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function qd(t){return m(this,null,function*(){let e=nt(t);yield Na(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YA(t){return t.map(e=>{var{providerId:n}=e,r=_c(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function KA(t,e){return m(this,null,function*(){let n=yield Ry(t,{},()=>m(this,null,function*(){let r=Ji({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xy(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Aa.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function QA(t,e){return m(this,null,function*(){return ka(t,"POST","/v2/accounts:revokeToken",Ny(t,e))})}var Ra=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return m(this,null,function*(){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield KA(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cs("not implemented")}};function cn(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_c(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ma(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield Ud(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Gd(this,e)}reload(){return qd(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Na(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){let e=yield this.getIdToken();return yield Ud(this,HA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Q=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ae,emailVerified:de,isAnonymous:Ee,providerData:Ce,stsTokenManager:Gn}=n;H(ae&&Gn,e,"internal-error");let nc=Ra.fromJSON(this.name,Gn);H(typeof ae=="string",e,"internal-error"),cn(d,e.name),cn(f,e.name),H(typeof de=="boolean",e,"internal-error"),H(typeof Ee=="boolean",e,"internal-error"),cn(h,e.name),cn(p,e.name),cn(_,e.name),cn(R,e.name),cn(F,e.name),cn(Q,e.name);let Gr=new t({uid:ae,auth:e,email:f,emailVerified:de,displayName:d,isAnonymous:Ee,photoURL:p,phoneNumber:h,tenantId:_,stsTokenManager:nc,createdAt:F,lastLoginAt:Q});return Ce&&Array.isArray(Ce)&&(Gr.providerData=Ce.map(HI=>Object.assign({},HI))),R&&(Gr._redirectEventId=R),Gr}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new Ra;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Na(s),s})}};var Ey=new Map;function kn(t){Sa(t instanceof Function,"Expected a class definition");let e=Ey.get(t);return e?(Sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ey.set(t,e),e)}var ZA=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Vd=ZA;function Ld(t,e,n){return`firebase:${t}:${e}:${n}`}var Oa=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ld(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ld("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(kn(Vd),e,r);let i=(yield Promise.all(n.map(u=>m(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||kn(Vd),o=Ld(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=xa._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>m(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function Cy(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rM(e))return"Blackberry";if(iM(e))return"Webos";if(XA(e))return"Safari";if((e.includes("chrome/")||eM(e))&&!e.includes("edge/"))return"Chrome";if(nM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function JA(t=tt()){return/firefox\//i.test(t)}function XA(t=tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eM(t=tt()){return/crios\//i.test(t)}function tM(t=tt()){return/iemobile/i.test(t)}function nM(t=tt()){return/android/i.test(t)}function rM(t=tt()){return/blackberry/i.test(t)}function iM(t=tt()){return/webos/i.test(t)}function Py(t,e=[]){let n;switch(t){case"Browser":n=Cy(tt());break;case"Worker":n=`${Cy(tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nr}/${r}`}var $d=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sM(n){return m(this,arguments,function*(t,e={}){return ka(t,"GET","/v2/passwordPolicy",Ny(t,e))})}var oM=6,Bd=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hd=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pa(this),this.idTokenSubscription=new Pa(this),this.beforeStateQueue=new $d(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ay,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kn(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Oa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield Na(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=jA()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){let n=e?nt(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(kn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield sM(this),n=new Bd(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield QA(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&kn(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=yield Oa.create(this,[kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Py(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&kA(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function aM(t){return nt(t)}var Pa=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ry(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function cM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function uM(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var lV=cM("rcb"),dV=new Ln(3e4,6e4);var fV=new Ln(2e3,1e4);var hV=10*60*1e3;var pV=new Ln(3e4,6e4);var gV=new Ln(5e3,15e3);var mV=encodeURIComponent("fac");var Dy="@firebase/auth",by="1.5.1";var Wd=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function dM(t){an(new Be("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Py(t)},u=new Hd(r,i,s,c);return uM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),an(new Be("auth-internal",e=>{let n=aM(e.getProvider("auth").getImmediate());return(r=>new Wd(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oe(Dy,by,lM(t)),oe(Dy,by,"esm2017")}var fM=5*60,vV=Kv("authIdTokenMaxAge")||fM;dM("Browser");var dN="auth";var La=class{constructor(){return ss(dN)}};var ky="@firebase/database",Ly="1.0.2";var Gf="";function fN(t){Gf=t}var tf=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),se(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var nf=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var g_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tf(e)}}catch{}return new nf},Un=g_("localStorage"),rf=g_("sessionStorage");var kr=new sn("@firebase/database"),hN=function(){let t=1;return function(){return t++}}(),m_=function(t){let e=iy(t),n=new pa;n.update(e);let r=n.digest();return ga.encodeByteArray(r)},Es=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Es.apply(null,r):typeof r=="object"?e+=se(r):e+=r,e+=" "}return e},Vn=null,Fy=!0,pN=function(t,e){g(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(kr.logLevel=B.VERBOSE,Vn=kr.log.bind(kr),e&&rf.set("logging_enabled",!0)):typeof t=="function"?Vn=t:(Vn=null,rf.remove("logging_enabled"))},fe=function(...t){if(Fy===!0&&(Fy=!1,Vn===null&&rf.get("logging_enabled")===!0&&pN(!0)),Vn){let e=Es.apply(null,t);Vn(e)}},Cs=function(t){return function(...e){fe(t,...e)}},sf=function(...t){let e="FIREBASE INTERNAL ERROR: "+Es(...t);kr.error(e)},Pt=function(...t){let e=`FIREBASE FATAL ERROR: ${Es(...t)}`;throw kr.error(e),new Error(e)},Ie=function(...t){let e="FIREBASE WARNING: "+Es(...t);kr.warn(e)},gN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ie("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},v_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mN=function(t){if(yt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fr="[MIN_NAME]",$n="[MAX_NAME]",Hr=function(t,e){if(t===e)return 0;if(t===Fr||e===$n)return-1;if(e===Fr||t===$n)return 1;{let n=Uy(t),r=Uy(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},vN=function(t,e){return t===e?0:t<e?-1:1},ls=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+se(e))},qf=function(t){if(typeof t!="object"||t===null)return se(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=se(e[r]),n+=":",n+=qf(t[e[r]]);return n+="}",n},y_=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ze(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var __=function(t){g(!v_(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let l=u.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(l.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},yN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_N=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var IN=new RegExp("^-?(0*)\\d{1,10}$"),wN=-2147483648,EN=2147483647,Uy=function(t){if(IN.test(t)){let e=Number(t);if(e>=wN&&e<=EN)return e}return null},Wr=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ie("Exception was thrown by user callback.",n),e},Math.floor(0))}},CN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gs=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var of=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ie(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var af=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ie(e)}},ms=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ua="5",I_="v",w_="s",E_="r",C_="f",D_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,b_="ls",T_="p",cf="ac",S_="websocket",A_="long_polling";var ja=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Un.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Un.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function DN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function M_(t,e,n){g(typeof e=="string","typeof type must == string"),g(typeof n=="object","typeof params must == object");let r;if(e===S_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===A_)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);DN(t)&&(n.ns=t.namespace);let i=[];return ze(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var uf=class{constructor(){this.counters_={}}incrementCounter(e,n=1){_t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zv(this.counters_)}};var Yd={},Kd={};function Yf(t){let e=t.toString();return Yd[e]||(Yd[e]=new uf),Yd[e]}function bN(t,e){let n=t.toString();return Kd[n]||(Kd[n]=e()),Kd[n]}var lf=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Wr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var jy="start",TN="close",SN="pLPCommand",AN="pRTLPCB",N_="id",R_="pw",x_="ser",MN="cb",NN="seg",RN="ts",xN="d",ON="dframe",O_=1870,P_=30,PN=O_-P_,kN=25e3,LN=3e4,df=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cs(e),this.stats_=Yf(n),this.urlFn=c=>(this.appCheckToken&&(c[cf]=this.appCheckToken),M_(n,A_,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LN)),mN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ff((...s)=>{let[o,a,c,u,l]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jy)this.id=a,this.password=c;else if(o===TN)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[jy]="t",r[x_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[MN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[I_]=Ua,this.transportSessionId&&(r[w_]=this.transportSessionId),this.lastSessionId&&(r[b_]=this.lastSessionId),this.applicationId&&(r[T_]=this.applicationId),this.appCheckToken&&(r[cf]=this.appCheckToken),typeof location<"u"&&location.hostname&&D_.test(location.hostname)&&(r[E_]=C_);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return yt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yN()&&!_N()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=pd(n),i=y_(r,PN);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(yt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[ON]="t",r[N_]=e,r[R_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=se(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},ff=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,yt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=hN(),window[SN+this.uniqueCallbackIdentifier]=e,window[AN+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){fe("frame writing exception"),a.stack&&fe(a.stack),fe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[N_]=this.myID,e[R_]=this.myPW,e[x_]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+P_+r.length<=O_;){let o=this.pendingSegs.shift();r=r+"&"+NN+i+"="+o.seg+"&"+RN+i+"="+o.ts+"&"+xN+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(kN)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){yt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var FN=16384,UN=45e3,Va=null;typeof MozWebSocket<"u"?Va=MozWebSocket:typeof WebSocket<"u"&&(Va=WebSocket);var ds=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cs(this.connId),this.stats_=Yf(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[I_]=Ua,!yt()&&typeof location<"u"&&location.hostname&&D_.test(location.hostname)&&(a[E_]=C_),r&&(a[w_]=r),i&&(a[b_]=i),s&&(a[cf]=s),o&&(a[T_]=o),M_(n,S_,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Un.set("previous_websocket_failure",!0);try{let i;if(yt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ua}/${Gf}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Va(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Va!==null&&!t.forceDisallow_}static previouslyFailed(){return Un.isInMemoryStorage||Un.get("previous_websocket_failure")===!0}markConnectionHealthy(){Un.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Mr(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(g(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=se(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=y_(r,FN);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UN))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),jN=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[df,ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ds&&ds.isAvailable(),i=r&&!ds.previouslyFailed();if(n.webSocketOnly&&(r||Ie("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ds];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),VN=6e4,$N=5e3,BN=10*1024,HN=100*1024,Qd="t",Vy="d",WN="s",$y="r",zN="e",By="o",Hy="a",Wy="n",zy="p",GN="h",hf=class{constructor(e,n,r,i,s,o,a,c,u,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cs("c:"+this.id+":"),this.transportManager_=new jN(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=gs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qd in e){let n=e[Qd];n===Hy?this.upgradeIfSecondaryHealthy_():n===$y?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===By&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ls("t",e),r=ls("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ls("t",e),r=ls("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ls(Qd,e);if(Vy in e){let r=e[Vy];if(n===GN){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Wy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WN?this.onConnectionShutdown_(r):n===$y?this.onReset_(r):n===zN?sf("Server Error: "+r):n===By?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sf("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ua!==r&&Ie("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($N))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zy,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Un.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var $a=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Ba=class{constructor(e){this.allowedEvents_=e,this.listeners_={},g(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){g(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ha=class t extends Ba{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ki()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return g(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Gy=32,qy=768,G=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function W(){return new G("")}function M(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ln(t){return t.pieces_.length-t.pieceNum_}function q(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new G(t.pieces_,e)}function k_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function L_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function F_(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new G(e,0)}function re(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof G)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new G(n,0)}function N(t){return t.pieceNum_>=t.pieces_.length}function He(t,e){let n=M(t),r=M(e);if(n===null)return e;if(n===r)return He(q(t),q(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function U_(t,e){if(ln(t)!==ln(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function it(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ln(t)>ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var pf=class{constructor(e,n){this.errorPrefix_=n,this.parts_=L_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xi(this.parts_[r]);j_(this)}};function YN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xi(e),j_(t)}function KN(t){let e=t.parts_.pop();t.byteLength_-=Xi(e),t.parts_.length>0&&(t.byteLength_-=1)}function j_(t){if(t.byteLength_>qy)throw new Error(t.errorPrefix_+"has a key path longer than "+qy+" bytes ("+t.byteLength_+").");if(t.parts_.length>Gy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gy+") or object contains a cycle "+Fn(t))}function Fn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var gf=class t extends Ba{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return g(e==="visible","Unknown event type: "+e),[this.visible_]}};var fs=1e3,QN=60*5*1e3,Yy=30*1e3,ZN=1.3,JN=3e4,XN="server_kill",Ky=3,Kf=(()=>{class t extends $a{constructor(n,r,i,s,o,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Cs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fs,this.maxReconnectDelay_=QN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!yt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ha.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(se(o)),g(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new rn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),g(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),g(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let u=c.d,l=c.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),l!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&_t(n,"w")){let i=Mn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ie(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ny(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Yy)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ty(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),g(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+se(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):sf("Unrecognized action received from server: "+se(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){g(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JN&&(this.reconnectDelay_=fs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZN)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,i())},l=function(f){g(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:u,sendRequest:l};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?fe("getToken() completed but was canceled"):(fe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new hf(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Ie(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(XN)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ie(f),u())}}})}interrupt(n){fe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){fe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],va(this.interruptReasons_)&&(this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>qf(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new G(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){fe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ky&&(this.reconnectDelay_=Yy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){fe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ky&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";yt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Gf.replace(/\./g,"-")]=1,Ki()?n["framework.cordova"]=1:ma()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ha.getInstance().currentlyOnline();return va(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),L=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ur=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new L(Fr,e),i=new L(Fr,n);return this.compare(r,i)!==0}minPost(){return L.MIN}};var Fa,Wa=class extends Ur{static get __EMPTY_NODE(){return Fa}static set __EMPTY_NODE(e){Fa=e}compare(e,n){return Hr(e.name,n.name)}isDefinedOn(e){throw An("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L($n,Fa)}makePost(e,n){return g(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,Fa)}toString(){return".key"}},Lr=new Wa;var Pr=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},rt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??We.EMPTY_NODE,this.right=o??We.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return We.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),mf=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},We=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pr(this.root_,null,this.comparator_,!0,e)}};We.EMPTY_NODE=new mf;function eR(t,e){return Hr(t.name,e.name)}function Qf(t,e){return Hr(t,e)}var vf;function tR(t){vf=t}var V_=function(t){return typeof t=="number"?"number:"+__(t):"string:"+t},$_=function(t){if(t.isLeafNode()){let e=t.val();g(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_t(e,".sv"),"Priority must be a string or number.")}else g(t===vf||t.isEmpty(),"priority of unexpected type.");g(t===vf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Qy,jr=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,g(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$_(this.priorityNode_)}static set __childrenNodeConstructor(n){Qy=n}static get __childrenNodeConstructor(){return Qy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return N(n)?this:M(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=M(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(g(i!==".priority"||ln(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(q(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+V_(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=__(this.value_):n+=this.value_,this.lazyHash_=m_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(g(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return g(s>=0,"Unknown leaf type: "+r),g(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),B_,H_;function nR(t){B_=t}function rR(t){H_=t}var yf=class extends Ur{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Hr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L($n,new jr("[PRIORITY-POST]",H_))}makePost(e,n){let r=B_(e);return new L(n,new jr("[PRIORITY-POST]",r))}toString(){return".priority"}},he=new yf;var iR=Math.log(2),_f=class{constructor(e){let n=s=>parseInt(Math.log(s)/iR,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},za=function(t,e,n,r){t.sort(e);let i=function(c,u){let l=u-c,d,f;if(l===0)return null;if(l===1)return d=t[c],f=n?n(d):d,new rt(f,d.node,rt.BLACK,null,null);{let h=parseInt(l/2,10)+c,p=i(c,h),_=i(h+1,u);return d=t[h],f=n?n(d):d,new rt(f,d.node,rt.BLACK,p,_)}},s=function(c){let u=null,l=null,d=t.length,f=function(p,_){let R=d-p,F=d;d-=p;let Q=i(R+1,F),ae=t[R],de=n?n(ae):ae;h(new rt(de,ae.node,_,null,Q))},h=function(p){u?(u.left=p,u=p):(l=p,u=p)};for(let p=0;p<c.count;++p){let _=c.nextBitIsOne(),R=Math.pow(2,c.count-(p+1));_?f(R,rt.BLACK):(f(R,rt.BLACK),f(R,rt.RED))}return l},o=new _f(t.length),a=s(o);return new We(r||e,a)};var Zd,Or={},Vr=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return g(Or&&he,"ChildrenNode.ts has not been loaded"),Zd=Zd||new t({".priority":Or},{".priority":he}),Zd}get(e){let n=Mn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof We?n:null}hasIndex(e){return _t(this.indexSet_,e.toString())}addIndex(e,n){g(e!==Lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(L.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=za(r,e.getCompare()):a=Or;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let l=Object.assign({},this.indexes_);return l[c]=a,new t(l,u)}addToIndexes(e,n){let r=Qi(this.indexes_,(i,s)=>{let o=Mn(this.indexSet_,s);if(g(o,"Missing index implementation for "+s),i===Or)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(L.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),za(a,o.getCompare())}else return Or;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new L(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Qi(this.indexes_,i=>{if(i===Or)return i;{let s=n.get(e.name);return s?i.remove(new L(e.name,s)):i}});return new t(r,this.indexSet_)}};var hs,Y=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&$_(this.priorityNode_),this.children_.isEmpty()&&g(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hs||(hs=new t(new We(Qf),null,Vr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hs}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?hs:r}}getChild(n){let r=M(n);return r===null?this:this.getImmediateChild(r).getChild(q(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(g(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new L(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?hs:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=M(n);if(i===null)return r;{g(M(n)!==".priority"||ln(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(q(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(he,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+V_(this.getPriority().val())+":"),this.forEachChild(he,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":m_(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new L(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new L(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new L(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,L.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,L.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ds?-1:0}withIndex(n){if(n===Lr||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Lr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(he),s=r.getIterator(he),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Lr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),If=class extends Y{constructor(){super(new We(Qf),Y.EMPTY_NODE,Vr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Y.EMPTY_NODE}isEmpty(){return!1}},Ds=new If;Object.defineProperties(L,{MIN:{value:new L(Fr,Y.EMPTY_NODE)},MAX:{value:new L($n,Ds)}});Wa.__EMPTY_NODE=Y.EMPTY_NODE;jr.__childrenNodeConstructor=Y;tR(Ds);rR(Ds);var sR=!0;function le(t,e=null){if(t===null)return Y.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),g(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new jr(n,le(e))}if(!(t instanceof Array)&&sR){let n=[],r=!1;if(ze(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=le(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new L(o,c)))}}),n.length===0)return Y.EMPTY_NODE;let s=za(n,eR,o=>o.name,Qf);if(r){let o=za(n,he.getCompare());return new Y(s,le(e),new Vr({".priority":o},{".priority":he}))}else return new Y(s,le(e),Vr.Default)}else{let n=Y.EMPTY_NODE;return ze(t,(r,i)=>{if(_t(t,r)&&r.substring(0,1)!=="."){let s=le(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(le(e))}}nR(le);var wf=class extends Ur{constructor(e){super(),this.indexPath_=e,g(!N(e)&&M(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Hr(e.name,n.name):s}makePost(e,n){let r=le(e),i=Y.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){let e=Y.EMPTY_NODE.updateChild(this.indexPath_,Ds);return new L($n,e)}toString(){return L_(this.indexPath_,0).join("/")}};var Ef=class extends Ur{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Hr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){let r=le(e);return new L(n,r)}toString(){return".value"}},oR=new Ef;function aR(t){return{type:"value",snapshotNode:t}}function cR(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function uR(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Zy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lR(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Cf=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=he}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return g(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return g(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fr}hasEnd(){return this.endSet_}getIndexEndValue(){return g(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return g(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$n}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return g(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===he}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function Jy(t){let e={};if(t.isDefault())return e;let n;if(t.index_===he?n="$priority":t.index_===oR?n="$value":t.index_===Lr?n="$key":(g(t.index_ instanceof wf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=se(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=se(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+se(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=se(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+se(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xy(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==he&&(e.i=t.index_.toString()),e}var Df=class t extends $a{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Cs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(g(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=Jy(e._queryParams);this.restRequest_(s+".json",c,(u,l)=>{let d=l;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Mn(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Jy(e._queryParams),r=e._path.toString(),i=new rn;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ji(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Mr(a.responseText)}catch{Ie("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ie("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var bf=class{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ga(){return{value:null,children:new Map}}function W_(t,e,n){if(N(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=M(e);t.children.has(r)||t.children.set(r,Ga());let i=t.children.get(r);e=q(e),W_(i,e,n)}}function Tf(t,e,n){t.value!==null?n(e,t.value):dR(t,(r,i)=>{let s=new G(e.toString()+"/"+r);Tf(i,s,n)})}function dR(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Sf=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ze(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var e_=10*1e3,fR=30*1e3,hR=5*60*1e3,Af=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Sf(e);let r=e_+(fR-e_)*Math.random();gs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ze(e,(i,s)=>{s>0&&_t(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),gs(this.reportStats_.bind(this),Math.floor(Math.random()*2*hR))}};var Ot=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ot||{});function z_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function G_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function q_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Mf=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ot.ACK_USER_WRITE,this.source=z_()}operationForChild(e){if(N(this.path)){if(this.affectedTree.value!=null)return g(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new G(e));return new t(W(),n,this.revert)}}else return g(M(this.path)===e,"operationForChild called for unrelated child."),new t(q(this.path),this.affectedTree,this.revert)}};var $r=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ot.OVERWRITE}operationForChild(e){return N(this.path)?new t(this.source,W(),this.snap.getImmediateChild(e)):new t(this.source,q(this.path),this.snap)}};var qa=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ot.MERGE}operationForChild(e){if(N(this.path)){let n=this.children.subtree(new G(e));return n.isEmpty()?null:n.value?new $r(this.source,W(),n.value):new t(this.source,W(),n)}else return g(M(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var _s=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(N(e))return this.isFullyInitialized()&&!this.filtered_;let n=M(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function pR(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(lR(o.childName,o.snapshotNode))}),ps(t,i,"child_removed",e,r,n),ps(t,i,"child_added",e,r,n),ps(t,i,"child_moved",s,r,n),ps(t,i,"child_changed",e,r,n),ps(t,i,"value",e,r,n),i}function ps(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>mR(t,a,c)),o.forEach(a=>{let c=gR(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function gR(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mR(t,e,n){if(e.childName==null||n.childName==null)throw An("Should only compare child_ events.");let r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Y_(t,e){return{eventCache:t,serverCache:e}}function vs(t,e,n,r){return Y_(new _s(e,n,r),t.serverCache)}function K_(t,e,n,r){return Y_(t.eventCache,new _s(e,n,r))}function Nf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Jd,vR=()=>(Jd||(Jd=new We(vN)),Jd),we=class t{constructor(e,n=vR()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ze(e,(r,i)=>{n=n.set(new G(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:W(),value:this.value};if(N(e))return null;{let r=M(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(q(e),n);return s!=null?{path:re(new G(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(N(e))return this;{let n=M(e),r=this.children.get(n);return r!==null?r.subtree(q(e)):new t(null)}}set(e,n){if(N(e))return new t(n,this.children);{let r=M(e),s=(this.children.get(r)||new t(null)).set(q(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(N(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=M(e),r=this.children.get(n);if(r){let i=r.remove(q(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(N(e))return this.value;{let n=M(e),r=this.children.get(n);return r?r.get(q(e)):null}}setTree(e,n){if(N(e))return n;{let r=M(e),s=(this.children.get(r)||new t(null)).setTree(q(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(W(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,W(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(N(e))return null;{let s=M(e),o=this.children.get(s);return o?o.findOnPath_(q(e),re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,W(),n)}foreachOnPath_(e,n,r){if(N(e))return this;{this.value&&r(n,this.value);let i=M(e),s=this.children.get(i);return s?s.foreachOnPath_(q(e),re(n,i),r):new t(null)}}foreach(e){this.foreach_(W(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var st=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new we(null))}};function ys(t,e,n){if(N(e))return new st(new we(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=He(i,e);return s=s.updateChild(o,n),new st(t.writeTree_.set(i,s))}else{let i=new we(n),s=t.writeTree_.setTree(e,i);return new st(s)}}}function t_(t,e,n){let r=t;return ze(n,(i,s)=>{r=ys(r,re(e,i),s)}),r}function n_(t,e){if(N(e))return st.empty();{let n=t.writeTree_.setTree(e,new we(null));return new st(n)}}function Rf(t,e){return Wn(t,e)!=null}function Wn(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(He(n.path,e)):null}function r_(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(he,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function un(t,e){if(N(e))return t;{let n=Wn(t,e);return n!=null?new st(new we(n)):new st(t.writeTree_.subtree(e))}}function xf(t){return t.writeTree_.isEmpty()}function Br(t,e){return Q_(W(),t.writeTree_,e)}function Q_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(g(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Q_(re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(re(t,".priority"),r)),n}}function Z_(t,e){return nI(e,t)}function yR(t,e,n,r,i){g(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ys(t.visibleWrites,e,n)),t.lastWriteId=r}function _R(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function IR(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);g(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&wR(a,r.path)?i=!1:it(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return ER(t),!0;if(r.snap)t.visibleWrites=n_(t.visibleWrites,r.path);else{let a=r.children;ze(a,c=>{t.visibleWrites=n_(t.visibleWrites,re(r.path,c))})}return!0}else return!1}function wR(t,e){if(t.snap)return it(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&it(re(t.path,n),e))return!0;return!1}function ER(t){t.visibleWrites=J_(t.allWrites,CR,W()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function CR(t){return t.visible}function J_(t,e,n){let r=st.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)it(n,o)?(a=He(n,o),r=ys(r,a,s.snap)):it(o,n)&&(a=He(o,n),r=ys(r,W(),s.snap.getChild(a)));else if(s.children){if(it(n,o))a=He(n,o),r=t_(r,a,s.children);else if(it(o,n))if(a=He(o,n),N(a))r=t_(r,W(),s.children);else{let c=Mn(s.children,M(a));if(c){let u=c.getChild(q(a));r=ys(r,W(),u)}}}else throw An("WriteRecord should have .snap or .children")}}return r}function X_(t,e,n,r,i){if(!r&&!i){let s=Wn(t.visibleWrites,e);if(s!=null)return s;{let o=un(t.visibleWrites,e);if(xf(o))return n;if(n==null&&!Rf(o,W()))return null;{let a=n||Y.EMPTY_NODE;return Br(o,a)}}}else{let s=un(t.visibleWrites,e);if(!i&&xf(s))return n;if(!i&&n==null&&!Rf(s,W()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(it(u.path,e)||it(e,u.path))},a=J_(t.allWrites,o,e),c=n||Y.EMPTY_NODE;return Br(a,c)}}}function DR(t,e,n){let r=Y.EMPTY_NODE,i=Wn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(he,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=un(t.visibleWrites,e);return n.forEachChild(he,(o,a)=>{let c=Br(un(s,new G(o)),a);r=r.updateImmediateChild(o,c)}),r_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=un(t.visibleWrites,e);return r_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function bR(t,e,n,r,i){g(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=re(e,n);if(Rf(t.visibleWrites,s))return null;{let o=un(t.visibleWrites,s);return xf(o)?i.getChild(n):Br(o,i.getChild(n))}}function TR(t,e,n,r){let i=re(e,n),s=Wn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=un(t.visibleWrites,i);return Br(o,r.getNode().getImmediateChild(n))}else return null}function SR(t,e){return Wn(t.visibleWrites,e)}function AR(t,e,n,r,i,s,o){let a,c=un(t.visibleWrites,e),u=Wn(c,W());if(u!=null)a=u;else if(n!=null)a=Br(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let l=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),h=f.getNext();for(;h&&l.length<i;)d(h,r)!==0&&l.push(h),h=f.getNext();return l}else return[]}function MR(){return{visibleWrites:st.empty(),allWrites:[],lastWriteId:-1}}function Of(t,e,n,r){return X_(t.writeTree,t.treePath,e,n,r)}function eI(t,e){return DR(t.writeTree,t.treePath,e)}function i_(t,e,n,r){return bR(t.writeTree,t.treePath,e,n,r)}function Ya(t,e){return SR(t.writeTree,re(t.treePath,e))}function NR(t,e,n,r,i,s){return AR(t.writeTree,t.treePath,e,n,r,i,s)}function Zf(t,e,n){return TR(t.writeTree,t.treePath,e,n)}function tI(t,e){return nI(re(t.treePath,e),t.writeTree)}function nI(t,e){return{treePath:t,writeTree:e}}var Pf=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;g(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),g(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Zy(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,uR(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,cR(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Zy(r,e.snapshotNode,i.oldSnap));else throw An("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var kf=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},rI=new kf,Is=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new _s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zf(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bn(this.viewCache_),s=NR(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function RR(t,e){g(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),g(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xR(t,e,n,r,i){let s=new Pf,o,a;if(n.type===Ot.OVERWRITE){let u=n;u.source.fromUser?o=Lf(t,e,u.path,u.snap,r,i,s):(g(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!N(u.path),o=Ka(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ot.MERGE){let u=n;u.source.fromUser?o=PR(t,e,u.path,u.children,r,i,s):(g(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Ff(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ot.ACK_USER_WRITE){let u=n;u.revert?o=FR(t,e,u.path,r,i,s):o=kR(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ot.LISTEN_COMPLETE)o=LR(t,e,n.path,r,s);else throw An("Unknown operation type: "+n.type);let c=s.getChanges();return OR(e,o,c),{viewCache:o,changes:c}}function OR(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Nf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(aR(Nf(e)))}}function iI(t,e,n,r,i,s){let o=e.eventCache;if(Ya(r,n)!=null)return e;{let a,c;if(N(n))if(g(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Bn(e),l=u instanceof Y?u:Y.EMPTY_NODE,d=eI(r,l);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let u=Of(r,Bn(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=M(n);if(u===".priority"){g(ln(n)===1,"Can't have a priority with additional path components");let l=o.getNode();c=e.serverCache.getNode();let d=i_(r,n,l,c);d!=null?a=t.filter.updatePriority(l,d):a=o.getNode()}else{let l=q(n),d;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();let f=i_(r,n,o.getNode(),c);f!=null?d=o.getNode().getImmediateChild(u).updateChild(l,f):d=o.getNode().getImmediateChild(u)}else d=Zf(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,l,i,s):a=o.getNode()}}return vs(e,a,o.isFullyInitialized()||N(n),t.filter.filtersNodes())}}function Ka(t,e,n,r,i,s,o,a){let c=e.serverCache,u,l=o?t.filter:t.filter.getIndexedFilter();if(N(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{let h=M(n);if(!c.isCompleteForPath(n)&&ln(n)>1)return e;let p=q(n),R=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=l.updatePriority(c.getNode(),R):u=l.updateChild(c.getNode(),h,R,p,rI,null)}let d=K_(e,u,c.isFullyInitialized()||N(n),l.filtersNodes()),f=new Is(i,d,s);return iI(t,d,n,i,f,a)}function Lf(t,e,n,r,i,s,o){let a=e.eventCache,c,u,l=new Is(i,e,s);if(N(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=vs(e,u,!0,t.filter.filtersNodes());else{let d=M(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=vs(e,u,a.isFullyInitialized(),a.isFiltered());else{let f=q(n),h=a.getNode().getImmediateChild(d),p;if(N(f))p=r;else{let _=l.getCompleteChild(d);_!=null?k_(f)===".priority"&&_.getChild(F_(f)).isEmpty()?p=_:p=_.updateChild(f,r):p=Y.EMPTY_NODE}if(h.equals(p))c=e;else{let _=t.filter.updateChild(a.getNode(),d,p,f,l,o);c=vs(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function s_(t,e){return t.eventCache.isCompleteForChild(e)}function PR(t,e,n,r,i,s,o){let a=e;return r.foreach((c,u)=>{let l=re(n,c);s_(e,M(l))&&(a=Lf(t,a,l,u,i,s,o))}),r.foreach((c,u)=>{let l=re(n,c);s_(e,M(l))||(a=Lf(t,a,l,u,i,s,o))}),a}function o_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ff(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;N(n)?u=r:u=new we(null).setTree(n,r);let l=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(l.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=o_(t,h,f);c=Ka(t,c,new G(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!l.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),_=o_(t,p,f);c=Ka(t,c,new G(d),_,i,s,o,a)}}),c}function kR(t,e,n,r,i,s,o){if(Ya(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(N(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ka(t,e,n,c.getNode().getChild(n),i,s,a,o);if(N(n)){let u=new we(null);return c.getNode().forEachChild(Lr,(l,d)=>{u=u.set(new G(l),d)}),Ff(t,e,n,u,i,s,a,o)}else return e}else{let u=new we(null);return r.foreach((l,d)=>{let f=re(n,l);c.isCompleteForPath(f)&&(u=u.set(l,c.getNode().getChild(f)))}),Ff(t,e,n,u,i,s,a,o)}}function LR(t,e,n,r,i){let s=e.serverCache,o=K_(e,s.getNode(),s.isFullyInitialized()||N(n),s.isFiltered());return iI(t,o,n,r,rI,i)}function FR(t,e,n,r,i,s){let o;if(Ya(r,n)!=null)return e;{let a=new Is(r,e,i),c=e.eventCache.getNode(),u;if(N(n)||M(n)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=Of(r,Bn(e));else{let d=e.serverCache.getNode();g(d instanceof Y,"serverChildren would be complete if leaf node"),l=eI(r,d)}l=l,u=t.filter.updateFullNode(c,l,s)}else{let l=M(n),d=Zf(r,l,e.serverCache);d==null&&e.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),d!=null?u=t.filter.updateChild(c,l,d,q(n),a,s):e.eventCache.getNode().hasChild(l)?u=t.filter.updateChild(c,l,Y.EMPTY_NODE,q(n),a,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Of(r,Bn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ya(r,W())!=null,vs(e,u,o,t.filter.filtersNodes())}}function UR(t,e){let n=Bn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!N(e)&&!n.getImmediateChild(M(e)).isEmpty())?n.getChild(e):null}function a_(t,e,n,r){e.type===Ot.MERGE&&e.source.queryId!==null&&(g(Bn(t.viewCache_),"We should always have a full cache before handling merges"),g(Nf(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=xR(t.processor_,i,e,n,r);return RR(t.processor_,s.viewCache),g(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,jR(t,s.changes,s.viewCache.eventCache.getNode(),null)}function jR(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return pR(t.eventGenerator_,e,n,i)}var c_;function VR(t){g(!c_,"__referenceConstructor has already been defined"),c_=t}function Jf(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return g(s!=null,"SyncTree gave us an op for an invalid query."),a_(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(a_(o,e,n,r));return s}}function Xf(t,e){let n=null;for(let r of t.views.values())n=n||UR(r,e);return n}var u_;function $R(t){g(!u_,"__referenceConstructor has already been defined"),u_=t}var Qa=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=MR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function sI(t,e,n,r,i){return yR(t.pendingWriteTree_,e,n,r,i),i?Ja(t,new $r(z_(),e,n)):[]}function jn(t,e,n=!1){let r=_R(t.pendingWriteTree_,e);if(IR(t.pendingWriteTree_,e)){let s=new we(null);return r.snap!=null?s=s.set(W(),!0):ze(r.children,o=>{s=s.set(new G(o),!0)}),Ja(t,new Mf(r.path,s,n))}else return[]}function Za(t,e,n){return Ja(t,new $r(G_(),e,n))}function BR(t,e,n){let r=we.fromObject(n);return Ja(t,new qa(G_(),e,r))}function HR(t,e,n,r){let i=cI(t,r);if(i!=null){let s=uI(i),o=s.path,a=s.queryId,c=He(o,e),u=new $r(q_(a),c,n);return lI(t,o,u)}else return[]}function WR(t,e,n,r){let i=cI(t,r);if(i){let s=uI(i),o=s.path,a=s.queryId,c=He(o,e),u=we.fromObject(n),l=new qa(q_(a),c,u);return lI(t,o,l)}else return[]}function eh(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=He(o,e),u=Xf(a,c);if(u)return u});return X_(i,e,s,n,!0)}function Ja(t,e){return oI(e,t.syncPointTree_,null,Z_(t.pendingWriteTree_,W()))}function oI(t,e,n,r){if(N(t.path))return aI(t,e,n,r);{let i=e.get(W());n==null&&i!=null&&(n=Xf(i,W()));let s=[],o=M(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let u=n?n.getImmediateChild(o):null,l=tI(r,o);s=s.concat(oI(a,c,u,l))}return i&&(s=s.concat(Jf(i,t,r,n))),s}}function aI(t,e,n,r){let i=e.get(W());n==null&&i!=null&&(n=Xf(i,W()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,u=tI(r,o),l=t.operationForChild(o);l&&(s=s.concat(aI(l,a,c,u)))}),i&&(s=s.concat(Jf(i,t,r,n))),s}function cI(t,e){return t.tagToQueryMap.get(e)}function uI(t){let e=t.indexOf("$");return g(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new G(t.substr(0,e))}}function lI(t,e,n){let r=t.syncPointTree_.get(e);g(r,"Missing sync point for query tag that we're tracking");let i=Z_(t.pendingWriteTree_,e);return Jf(r,n,i,null)}var Uf=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},jf=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=re(this.path_,e);return new t(this.syncTree_,n)}node(){return eh(this.syncTree_,this.path_)}},zR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},l_=function(t,e,n){if(!t||typeof t!="object")return t;if(g(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qR(t[".sv"],e);g(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:g(!1,"Unexpected server value: "+t)}},qR=function(t,e,n){t.hasOwnProperty("increment")||g(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&g(!1,"Unexpected increment value: "+r);let i=e.node();if(g(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},YR=function(t,e,n,r){return th(e,new jf(n,t),r)},dI=function(t,e,n){return th(t,new Uf(e),n)};function th(t,e,n){let r=t.getPriority().val(),i=l_(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=l_(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new jr(a,le(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new jr(i))),o.forEachChild(he,(a,c)=>{let u=th(c,e.getImmediateChild(a),n);u!==c&&(s=s.updateImmediateChild(a,u))}),s}}var ws=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function nh(t,e){let n=e instanceof G?e:new G(e),r=t,i=M(n);for(;i!==null;){let s=Mn(r.node.children,i)||{children:{},childCount:0};r=new ws(i,r,s),n=q(n),i=M(n)}return r}function zr(t){return t.node.value}function fI(t,e){t.node.value=e,Vf(t)}function hI(t){return t.node.childCount>0}function KR(t){return zr(t)===void 0&&!hI(t)}function Xa(t,e){ze(t.node.children,(n,r)=>{e(new ws(n,t,r))})}function pI(t,e,n,r){n&&!r&&e(t),Xa(t,i=>{pI(i,e,!0,r)}),n&&r&&e(t)}function QR(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function bs(t){return new G(t.parent===null?t.name:bs(t.parent)+"/"+t.name)}function Vf(t){t.parent!==null&&ZR(t.parent,t.name,t)}function ZR(t,e,n){let r=KR(n),i=_t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Vf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Vf(t))}var JR=/[\[\].#$\/\u0000-\u001F\u007F]/,XR=/[\[\].#$\u0000-\u001F\u007F]/,Xd=10*1024*1024,gI=function(t){return typeof t=="string"&&t.length!==0&&!JR.test(t)},mI=function(t){return typeof t=="string"&&t.length!==0&&!XR.test(t)},ex=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mI(t)};var tx=function(t,e,n,r){r&&e===void 0||rh(ya(t,"value"),e,n)},rh=function(t,e,n){let r=n instanceof G?new pf(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fn(r)+" with contents = "+e.toString());if(v_(e))throw new Error(t+"contains "+e.toString()+" "+Fn(r));if(typeof e=="string"&&e.length>Xd/3&&Xi(e)>Xd)throw new Error(t+"contains a string greater than "+Xd+" utf8 bytes "+Fn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ze(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!gI(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YN(r,o),rh(t,a,r),KN(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fn(r)+" in addition to actual children.")}};var vI=function(t,e,n,r){if(!(r&&n===void 0)&&!mI(n))throw new Error(ya(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nx=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vI(t,e,n,r)},rx=function(t,e){if(M(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ix=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gI(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ex(n))throw new Error(ya(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var $f=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function yI(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!U_(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function kt(t,e,n){yI(t,n),sx(t,r=>it(r,e)||it(e,r))}function sx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(ox(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ox(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Vn&&fe("event: "+n.toString()),Wr(r)}}}var ax="repo_interrupt",cx=25,Bf=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $f,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ga(),this.transactionQueueTree_=new ws,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function ux(t,e,n){if(t.stats_=Yf(t.repoInfo_),t.forceRestClient_||CN())t.server_=new Df(t.repoInfo_,(r,i,s,o)=>{d_(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>f_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{se(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Kf(t.repoInfo_,e,(r,i,s,o)=>{d_(t,r,i,s,o)},r=>{f_(t,r)},r=>{dx(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bN(t.repoInfo_,()=>new Af(t.stats_,t.server_)),t.infoData_=new bf,t.infoSyncTree_=new Qa({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Za(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),sh(t,"connected",!1),t.serverSyncTree_=new Qa({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let u=o(a,c);kt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function lx(t){let n=t.infoData_.getNode(new G(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ih(t){return zR({timestamp:lx(t)})}function d_(t,e,n,r,i){t.dataUpdateCount++;let s=new G(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=Qi(n,u=>le(u));o=WR(t.serverSyncTree_,s,c,i)}else{let c=le(n);o=HR(t.serverSyncTree_,s,c,i)}else if(r){let c=Qi(n,u=>le(u));o=BR(t.serverSyncTree_,s,c)}else{let c=le(n);o=Za(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=ec(t,s)),kt(t.eventQueue_,a,o)}function f_(t,e){sh(t,"connected",e),e===!1&&hx(t)}function dx(t,e){ze(e,(n,r)=>{sh(t,n,r)})}function sh(t,e,n){let r=new G("/.info/"+e),i=le(n);t.infoData_.updateSnapshot(r,i);let s=Za(t.infoSyncTree_,r,i);kt(t.eventQueue_,r,s)}function _I(t){return t.nextWriteId_++}function fx(t,e,n,r,i){oh(t,"set",{path:e.toString(),value:n,priority:r});let s=ih(t),o=le(n,r),a=eh(t.serverSyncTree_,e),c=dI(o,a,s),u=_I(t),l=sI(t.serverSyncTree_,e,c,u,!0);yI(t.eventQueue_,l),t.server_.put(e.toString(),o.val(!0),(f,h)=>{let p=f==="ok";p||Ie("set at "+e+" failed: "+f);let _=jn(t.serverSyncTree_,u,!p);kt(t.eventQueue_,e,_),gx(t,i,f,h)});let d=DI(t,e);ec(t,d),kt(t.eventQueue_,d,[])}function hx(t){oh(t,"onDisconnectEvents");let e=ih(t),n=Ga();Tf(t.onDisconnect_,W(),(i,s)=>{let o=YR(i,s,t.serverSyncTree_,e);W_(n,i,o)});let r=[];Tf(n,W(),(i,s)=>{r=r.concat(Za(t.serverSyncTree_,i,s));let o=DI(t,i);ec(t,o)}),t.onDisconnect_=Ga(),kt(t.eventQueue_,W(),r)}function px(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ax)}function oh(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fe(n,...e)}function gx(t,e,n,r){e&&Wr(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function II(t,e,n){return eh(t.serverSyncTree_,e,n)||Y.EMPTY_NODE}function ah(t,e=t.transactionQueueTree_){if(e||tc(t,e),zr(e)){let n=EI(t,e);g(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&mx(t,bs(e),n)}else hI(e)&&Xa(e,n=>{ah(t,n)})}function mx(t,e,n){let r=n.map(u=>u.currentWriteId),i=II(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let l=n[u];g(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let d=He(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,u=>{oh(t,"transaction put response",{path:c.toString(),status:u});let l=[];if(u==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,l=l.concat(jn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();tc(t,nh(t.transactionQueueTree_,e)),ah(t,t.transactionQueueTree_),kt(t.eventQueue_,e,l);for(let f=0;f<d.length;f++)Wr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ie("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}ec(t,e)}},o)}function ec(t,e){let n=wI(t,e),r=bs(n),i=EI(t,n);return vx(t,i,r),r}function vx(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=He(n,c.path),l=!1,d;if(g(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)l=!0,d=c.abortReason,i=i.concat(jn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=cx)l=!0,d="maxretry",i=i.concat(jn(t.serverSyncTree_,c.currentWriteId,!0));else{let f=II(t,c.path,o);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){rh("transaction failed: Data returned ",h,c.path);let p=le(h);typeof h=="object"&&h!=null&&_t(h,".priority")||(p=p.updatePriority(f.getPriority()));let R=c.currentWriteId,F=ih(t),Q=dI(p,f,F);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=Q,c.currentWriteId=_I(t),o.splice(o.indexOf(R),1),i=i.concat(sI(t.serverSyncTree_,c.path,Q,c.currentWriteId,c.applyLocally)),i=i.concat(jn(t.serverSyncTree_,R,!0))}else l=!0,d="nodata",i=i.concat(jn(t.serverSyncTree_,c.currentWriteId,!0))}kt(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}tc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Wr(r[a]);ah(t,t.transactionQueueTree_)}function wI(t,e){let n,r=t.transactionQueueTree_;for(n=M(e);n!==null&&zr(r)===void 0;)r=nh(r,n),e=q(e),n=M(e);return r}function EI(t,e){let n=[];return CI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function CI(t,e,n){let r=zr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Xa(e,i=>{CI(t,i,n)})}function tc(t,e){let n=zr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fI(e,n.length>0?n:void 0)}Xa(e,r=>{tc(t,r)})}function DI(t,e){let n=bs(wI(t,e)),r=nh(t.transactionQueueTree_,e);return QR(r,i=>{ef(t,i)}),ef(t,r),pI(r,i=>{ef(t,i)}),n}function ef(t,e){let n=zr(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(g(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(g(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(jn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?fI(e,void 0):n.length=s+1,kt(t.eventQueue_,bs(e),i);for(let o=0;o<r.length;o++)Wr(r[o])}}function yx(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _x(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ie(`Invalid query segment '${n}' in query '${t}'`)}return e}var h_=function(t,e){let n=Ix(t),r=n.namespace;n.domain==="firebase.com"&&Pt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gN();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ja(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new G(n.pathString)}},Ix=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let l=t.indexOf("/");l===-1&&(l=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=yx(t.substring(l,d)));let f=_x(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var p_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",d$=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=p_.charAt(n%64),n=Math.floor(n/64);g(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=p_.charAt(e[i]);return g(o.length===20,"nextPushId: Length should be 20."),o}}();var Hf=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return N(this._path)?null:k_(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){let e=Xy(this._queryParams),n=qf(e);return n==="{}"?"default":n}get _queryObject(){return Xy(this._queryParams)}isEqual(e){if(e=nt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=U_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+qN(this._path)}};var Hn=class t extends Hf{constructor(e,n){super(e,n,new Cf,!1)}get parent(){let e=F_(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};function bI(t,e){return t=nt(t),t._checkNotDeleted("ref"),e!==void 0?TI(t._root,e):t._root}function TI(t,e){return t=nt(t),M(t._path)===null?nx("child","path",e,!1):vI("child","path",e,!1),new Hn(t._repo,re(t._path,e))}function SI(t,e){t=nt(t),rx("set",t._path),tx("set",e,t._path,!1);let n=new rn;return fx(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}VR(Hn);$R(Hn);var wx="FIREBASE_DATABASE_EMULATOR_HOST",Wf={},Ex=!1;function Cx(t,e,n,r){t.repoInfo_=new ja(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Dx(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Pt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=h_(s,i),a=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[wx]),u?(c=!0,s=`http://${u}?ns=${a.namespace}`,o=h_(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let l=i&&c?new ms(ms.OWNER):new af(t.name,t.options,e);ix("Invalid Firebase Database URL",o),N(o.path)||Pt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Tx(a,t,l,new of(t.name,n));return new zf(d,t)}function bx(t,e){let n=Wf[e];(!n||n[t.key]!==t)&&Pt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),px(t),delete n[t.key]}function Tx(t,e,n,r){let i=Wf[e.name];i||(i={},Wf[e.name]=i);let s=i[t.toURLString()];return s&&Pt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Bf(t,Ex,n,r),i[t.toURLString()]=s,s}var zf=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ux(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,W())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pt("Cannot call "+e+" on a deleted database.")}};function AI(t=rs(),e){let n=Nd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Yv("database");r&&MI(n,...r)}return n}function MI(t,e,n,r={}){t=nt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Pt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ms(ms.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Qv(r.mockUserToken,t.app.options.projectId);s=new ms(o)}Cx(i,e,n,s)}function Sx(t){fN(Nr),an(new Be("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Dx(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),oe(ky,Ly,t),oe(ky,Ly,"esm2017")}Kf.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Kf.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sx();var zn=class{constructor(e){return e}},NI="database",ch=class{constructor(){return ss(NI)}};var uh=new T("angularfire2.database-instances");function Ax(t,e){let n=Od(NI,t,e);return n&&new zn(n)}function Mx(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zn(r)}}var Nx={provide:ch,deps:[[new Ue,uh]]},Rx={provide:zn,useFactory:Ax,deps:[[new Ue,uh],Pn]},xx=(()=>{class t{constructor(){oe("angularfire",xr.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Tt({type:t});static \u0275inj=bt({providers:[Rx,Nx]})}return t})();function RI(t,...e){return{ngModule:xx,providers:[{provide:uh,useFactory:Mx(t),multi:!0,deps:[$,Se,os,as,[new Ue,La],[new Ue,is],...e]}]}}var xI=On(AI,!0);var OI=On(bI,!0);var PI=On(SI,!0);var kI=(()=>{let e=class e{constructor(){this.commit=null,this.database=v(zn)}ngOnInit(){return m(this,null,function*(){console.log("RegisterCommitFormComponent.ngOnInit()"),console.log(this.commit),yield PI(OI(this.database,"commits/"+this.commit?.uuid),{type:this.commit?.type,jiraIssues:this.commit?.jiraIssues})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-register-commit-form"]],inputs:{commit:"commit"},standalone:!0,features:[Ve],decls:7,vars:2,template:function(i,s){i&1&&(ye(0,"div"),je(1," ----- "),ye(2,"div"),je(3),_e(),ye(4,"div"),je(5),_e(),je(6,` -----
`),_e()),i&2&&(Dn(3),Fo(" ",s.commit==null?null:s.commit.type," "),Dn(2),Fo(" ",s.commit==null?null:s.commit.jiraIssues," "))},dependencies:[et],styles:[`:host{display:block}
`],encapsulation:3,changeDetection:0});let t=e;return t})();function Ox(t,e){if(t&1&&bn(0,"app-register-commit-form",1),t&2){let n=e.$implicit;Zt("commit",n)}}var LI=(()=>{let e=class e{constructor(){this.commits=[new ha(ud.CLOSED_YESTERDAY,["ITBUILD-1234","ITBUILD-1235"])]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-register-commit-page"]],standalone:!0,features:[Ve],decls:4,vars:1,consts:[[3,"commit",4,"ngFor","ngForOf"],[3,"commit"]],template:function(i,s){i&1&&(ye(0,"p"),je(1,"RegisterCommitPage works!"),_e(),ye(2,"div"),sl(3,Ox,1,1,"app-register-commit-form",0),_e()),i&2&&(Dn(3),Zt("ngForOf",s.commits))},dependencies:[et,jm,kI],styles:[`:host{display:block}
`],encapsulation:3,changeDetection:0});let t=e;return t})();var FI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-home-page"]],standalone:!0,features:[Ve],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,s){i&1&&(ye(0,"p"),je(1,"HomePage works!"),_e(),ye(2,"a",0),je(3,"RegisterCommitPage"),_e()),i&2&&(Dn(2),Zt("routerLink","/register-commit"))},dependencies:[et,fa,da],styles:[`:host{display:block}
`],encapsulation:3,changeDetection:0});let t=e;return t})();var UI=[{path:"",component:FI},{path:"register-commit",component:LI}];var jI={firebase:{projectId:"daily-scrum-ff6bd",appId:"1:735755109782:web:8e7b1965844498f094c9b7",databaseURL:"https://daily-scrum-ff6bd-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"daily-scrum-ff6bd.appspot.com",apiKey:"AIzaSyCVwiPajMTxEkTsacRZaakt-V6qw3GgdVQ",authDomain:"daily-scrum-ff6bd.firebaseapp.com",messagingSenderId:"735755109782"}};var VI={providers:[Fv(UI),To(yy(()=>_y(jI.firebase))),To(RI(()=>xI()))]};var Px=()=>["/"],$I=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-header"]],standalone:!0,features:[Ve],decls:2,vars:2,consts:[[3,"routerLink"]],template:function(i,s){i&1&&(ye(0,"a",0),je(1,"Home"),_e()),i&2&&Zt("routerLink",Dm(1,Px))},dependencies:[et,fa,da],styles:[`:host{display:block}
`],encapsulation:3,changeDetection:0});let t=e;return t})();var BI=(()=>{let e=class e{constructor(){this.title="daily-scrum"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-root"]],standalone:!0,features:[Ve],decls:2,vars:0,template:function(i,s){i&1&&bn(0,"app-header")(1,"router-outlet")},dependencies:[et,nd,$I]});let t=e;return t})();Qm(BI,VI).catch(t=>console.error(t));
